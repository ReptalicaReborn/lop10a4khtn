<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ª®ng d·ª•ng T∆∞∆°ng t√°c: √î nhi·ªÖm Kh√¥ng kh√≠</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script>
        // Register the datalabels plugin globally
        Chart.register(ChartDataLabels);
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #eaf4f7;
            color: #333;
        }
        .nav-button {
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            color: #71a6b7;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .nav-button:hover {
            background-color: #f7f3e9;
            color: #5a8a9a;
        }
        .nav-button.active {
            background-color: #71a6b7;
            color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1-2px rgba(0, 0, 0, 0.06);
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border: 1px solid #bfe0e9;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        .chart-container-bar {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 500px;
        }
        .aqi-item {
            display: flex;
            align-items: center;
            padding: 0.75rem;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }
        .llm-button {
            transition: all 0.2s;
            cursor: pointer;
        }
        .llm-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .llm-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        .spinner {
            width: 2rem;
            height: 2rem;
            border: 4px solid #f7f3e9;
            border-top: 4px solid #71a6b7;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .advice-output {
            background-color: #f7f3e9;
            border: 1px solid #a4d2df;
            border-radius: 0.5rem;
            padding: 1rem;
        }
        .project-heading {
            border-left: 5px solid #71a6b7;
            padding-left: 1rem;
        }
    </style>
</head>
<body class="antialiased">

    <div class="min-h-screen">
        <header class="bg-white shadow-sm sticky top-0 z-10 border-b border-bfe0e9">
            <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center">
                <h1 class="text-2xl font-bold text-71a6b7">Ph√¢n t√≠ch: √î nhi·ªÖm Kh√¥ng kh√≠</h1>
                <nav id="mainNav" class="flex flex-wrap justify-center space-x-2 mt-4 md:mt-0">
                    <button class="nav-button active" data-page="project10a4">D·ª± √°n 10A4 üî¨</button>
                    <button class="nav-button" data-page="overview">T·ªïng quan</button>
                    <button class="nav-button" data-page="sources">Ngu·ªìn & Ch·∫•t √¥ nhi·ªÖm</button>
                    <button class="nav-button" data-page="impact">T√°c ƒë·ªông</button>
                    <button class="nav-button" data-page="solutions">Gi·∫£i ph√°p</button>
                    <button class="nav-button" data-page="ai-advisor">AI T∆∞ V·∫•n ‚ú®</button>
                </nav>
            </div>
        </header>

        <main id="appContent" class="container mx-auto p-4 md:p-8">

            <section id="page-project10a4" class="content-section active">
                <div class="card max-w-4xl mx-auto">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4 border-b-2 border-71a6b7/50 pb-2">D·ª± √°n khoa h·ªçc kƒ© thu·∫≠t c·∫•p tr∆∞·ªùng - L·ªõp 10A4</h2>
                    
                    <!-- N·ªòI DUNG T·ª™ TEXT.TXT ƒê∆Ø·ª¢C CH√àN V√ÄO ƒê√ÇY -->
                    
                    <div class="mb-4">
                        <p class="text-lg text-gray-800"><span class="font-semibold">Ng∆∞·ªùi h∆∞·ªõng d·∫´n:</span> Nguy·ªÖn Th·ªã Th·ªßy</p>
                        <p class="text-lg text-gray-800"><span class="font-semibold">T√™n h·ªçc sinh:</span> B√πi Tr∆∞·ªùng Giang</p>
                        <p class="text-lg text-gray-800"><span class="font-semibold">Lƒ©nh v·ª±c:</span> Khoa h·ªçc t·ª± nhi√™n</p>
                    </div>

                    <h3 class="text-xl font-bold text-gray-800 mt-6">T√™n ƒê·ªÅ t√†i</h3>
                    <p class="text-lg text-gray-700 mt-1 mb-4 p-3 bg-f7f3e9 rounded-md border border-a4d2df">V·∫•n ƒë·ªÅ √¥ nhi·ªÖm kh√¥ng kh√≠, gi·∫£i ph√°p kh·∫Øc ph·ª•c, v√† s·ª≠ d·ª•ng tr√≠ tu·ªá nh√¢n t·∫°o ƒë·ªÉ gi√∫p con ng∆∞·ªùi ƒë·ªÅ ph√≤ng c√°c t√°c nh√¢n g√¢y b·ªánh</p>
                    
                    <h3 class="text-xl font-bold text-gray-800 mt-6">1. B·ªëi c·∫£nh v√† T√≠nh c·∫•p thi·∫øt c·ªßa V·∫•n ƒë·ªÅ</h3>
                    <p class="text-gray-700 mt-2">Trong nh·ªØng nƒÉm g·∫ßn ƒë√¢y, √¥ nhi·ªÖm kh√¥ng kh√≠ ƒë√£ tr·ªü th√†nh m·ªôt trong nh·ªØng th√°ch th·ª©c m√¥i tr∆∞·ªùng v√† s·ª©c kh·ªèe c·ªông ƒë·ªìng nghi√™m tr·ªçng nh·∫•t t·∫°i c√°c ƒë√¥ th·ªã l·ªõn ·ªü Vi·ªát Nam. ƒê·∫∑c bi·ªát, n·ªìng ƒë·ªô b·ª•i m·ªãn <span class="font-bold">PM‚ÇÇ.‚ÇÖ</span> th∆∞·ªùng xuy√™n v∆∞·ª£t ng∆∞·ª°ng an to√†n, g√¢y ra nguy c∆° cao v·ªÅ c√°c b·ªánh l√Ω h√¥ h·∫•p v√† tim m·∫°ch cho ng∆∞·ªùi d√¢n.</p>
                    
                    <p class="font-semibold text-gray-700 mt-4 mb-2">T√≠nh c·∫•p thi·∫øt c·ªßa ƒë·ªÅ t√†i xu·∫•t ph√°t t·ª´ ba kh√≠a c·∫°nh:</p>
                    <ul class="list-disc list-inside ml-4 text-gray-700 space-y-2">
                        <li><span class="font-semibold text-71a6b7">M√¥i tr∆∞·ªùng:</span> C·∫ßn m·ªôt gi·∫£i ph√°p k·ªπ thu·∫≠t hi·ªáu qu·∫£ ƒë·ªÉ gi·∫£m thi·ªÉu c√°c ch·∫•t √¥ nhi·ªÖm t·∫°i ngu·ªìn ho·∫∑c x·ª≠ l√Ω t·∫°i khu v·ª±c nh·∫°y c·∫£m (nh∆∞ tr∆∞·ªùng h·ªçc, b·ªánh vi·ªán).</li>
                        <li><span class="font-semibold text-71a6b7">S·ª©c kh·ªèe:</span> Ng∆∞·ªùi d√¢n thi·∫øu c√¥ng c·ª• nhanh ch√≥ng, c√° nh√¢n h√≥a ƒë·ªÉ bi·∫øt c√°ch t·ª± b·∫£o v·ªá m√¨nh tr∆∞·ªõc t√¨nh tr·∫°ng √¥ nhi·ªÖm kh√¥ng ·ªïn ƒë·ªãnh t·ª´ng ng√†y.</li>
                        <li><span class="font-semibold text-71a6b7">C√¥ng ngh·ªá:</span> S·ª± ph√°t tri·ªÉn c·ªßa Tr√≠ tu·ªá Nh√¢n t·∫°o (AI) m·ªü ra c∆° h·ªôi ƒë·ªÉ chuy·ªÉn ƒë·ªïi d·ªØ li·ªáu m√¥i tr∆∞·ªùng ph·ª©c t·∫°p th√†nh c√°c h√†nh ƒë·ªông ph√≤ng ng·ª´a ƒë∆°n gi·∫£n, k·ªãp th·ªùi cho ng∆∞·ªùi d√πng.</li>
                    </ul>
                    
                    <h3 class="text-xl font-bold text-gray-800 mt-6">2. M·ª•c ti√™u Nghi√™n c·ª©u</h3>
                    <p class="text-gray-700 mt-2">ƒê·ªÅ t√†i ƒë∆∞·ª£c th·ª±c hi·ªán nh·∫±m ƒë·∫°t ƒë∆∞·ª£c c√°c m·ª•c ti√™u li√™n ng√†nh sau:</p>
                    
                    <h4 class="font-semibold text-gray-800 mt-3 ml-2">2.1. M·ª•c ti√™u Nghi√™n c·ª©u v√† Ph√¢n t√≠ch (M√¥i tr∆∞·ªùng)</h4>
                    <ul class="list-disc list-inside ml-6 text-gray-700 space-y-1">
                        <li>Ph√¢n t√≠ch c√°c ngu·ªìn g√¢y √¥ nhi·ªÖm kh√¥ng kh√≠ ch√≠nh t·∫°i c√°c khu v·ª±c.</li>
                        <li>ƒê·ªÅ xu·∫•t v√† ƒë√°nh gi√° m·ªôt gi·∫£i ph√°p kh·∫Øc ph·ª•c (k·ªπ thu·∫≠t ho·∫∑c ch√≠nh s√°ch) c√≥ t√≠nh kh·∫£ thi cao trong m√¥i tr∆∞·ªùng th·ª±c ti·ªÖn.</li>
                    </ul>

                    <h4 class="font-semibold text-gray-800 mt-3 ml-2">2.2. M·ª•c ti√™u ·ª®ng d·ª•ng C√¥ng ngh·ªá (AI & S·ª©c kh·ªèe)</h4>
                    <ul class="list-disc list-inside ml-6 text-gray-700 space-y-1">
                        <li>X√¢y d·ª±ng m·ªôt m√¥ h√¨nh ho·∫∑c ·ª©ng d·ª•ng d·ª±a tr√™n Tr√≠ tu·ªá Nh√¢n t·∫°o.</li>
                        <li>M√¥ h√¨nh n√†y c√≥ kh·∫£ nƒÉng thu th·∫≠p d·ªØ li·ªáu AQI (Ch·ªâ s·ªë Ch·∫•t l∆∞·ª£ng Kh√¥ng kh√≠) theo th·ªùi gian th·ª±c v√† ƒë∆∞a ra l·ªùi khuy√™n c√° nh√¢n h√≥a v·ªÅ c√°c bi·ªán ph√°p ph√≤ng ng·ª´a.</li>
                        <li>V√≠ d·ª• v·ªÅ l·ªùi khuy√™n: N√™n ƒëeo kh·∫©u trang lo·∫°i n√†o (N95/y t·∫ø), c√≥ n√™n ch·∫°y b·ªô ngo√†i tr·ªùi kh√¥ng, n√™n m·ªü hay ƒë√≥ng c·ª≠a s·ªï.</li>
                    </ul>
                    
                    <h3 class="text-xl font-bold text-gray-800 mt-6">3. Ph·∫°m vi Nghi√™n c·ª©u</h3>
                    <ul class="list-disc list-inside ml-4 text-gray-700 space-y-2">
                        <li><span class="font-semibold text-71a6b7">Ph·∫°m vi Kh√¥ng gian:</span> Nghi√™n c·ª©u s·∫Ω t·∫≠p trung v√†o d·ªØ li·ªáu √¥ nhi·ªÖm kh√¥ng kh√≠ t·∫°i Vi·ªát Nam v√† tr√™n to√†n th·∫ø gi·ªõi.</li>
                        <li><span class="font-semibold text-71a6b7">Ph·∫°m vi N·ªôi dung:</span>
                            <ul class="list-circle list-inside ml-4 text-gray-700 space-y-1 mt-1">
                                <li>T·∫≠p trung ch·ªß y·∫øu v√†o c√°c ch·∫•t √¥ nhi·ªÖm c√≥ t√°c ƒë·ªông m·∫°nh nh·∫•t ƒë·∫øn s·ª©c kh·ªèe: B·ª•i m·ªãn (PM‚ÇÇ.‚ÇÖ), Ozone (O‚ÇÉ), Sulfur Dioxide (SO‚ÇÇ), Oxide c·ªßa Nitrogen (NO‚Çì), H·ª£p ch·∫•t h·ªØu c∆° (VOCs) v√† Carbon Monoxide (CO).</li>
                                <li>Ph·∫ßn ·ª©ng d·ª•ng AI t·∫≠p trung v√†o vi·ªác d·ª± ƒëo√°n nguy c∆° s·ª©c kh·ªèe d·ª±a tr√™n d·ªØ li·ªáu √¥ nhi·ªÖm, kh√¥ng ƒëi s√¢u v√†o vi·ªác ph√°t tri·ªÉn thu·∫≠t to√°n AI n·ªÅn t·∫£ng.</li>
                            </ul>
                        </li>
                    </ul>

                    <h3 class="text-xl font-bold text-gray-800 mt-6">4. √ù nghƒ©a Khoa h·ªçc v√† Th·ª±c ti·ªÖn</h3>
                    <ul class="list-disc list-inside ml-4 text-gray-700 space-y-2">
                        <li><span class="font-semibold text-71a6b7">V·ªÅ m·∫∑t Khoa h·ªçc:</span> Ch·ª©ng minh t√≠nh hi·ªáu qu·∫£ c·ªßa c√°ch ti·∫øp c·∫≠n li√™n ng√†nh (k·ªπ thu·∫≠t m√¥i tr∆∞·ªùng + khoa h·ªçc d·ªØ li·ªáu) trong vi·ªác gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ x√£ h·ªôi.</li>
                        <li><span class="font-semibold text-71a6b7">V·ªÅ m·∫∑t Th·ª±c ti·ªÖn:</span> Cung c·∫•p m·ªôt c√¥ng c·ª• ƒë∆°n gi·∫£n, d·ªÖ s·ª≠ d·ª•ng cho c·ªông ƒë·ªìng ƒë·ªÉ ch·ªß ƒë·ªông b·∫£o v·ªá s·ª©c kh·ªèe, t·ª´ ƒë√≥ n√¢ng cao nh·∫≠n th·ª©c v·ªÅ ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠ v√† th√∫c ƒë·∫©y h√†nh ƒë·ªông t·∫≠p th·ªÉ.</li>
                    </ul>
                    <!-- K·∫æT TH√öC N·ªòI DUNG T·ª™ TEXT.TXT -->
                    <p class="text-center text-lg text-gray-600 mt-10 italic">
                        H√£y s·ª≠ d·ª•ng c√°c tab ƒëi·ªÅu h∆∞·ªõng ·ªü tr√™n ƒë·ªÉ kh√°m ph√° s√¢u h∆°n v·ªÅ c√°c ngu·ªìn g√¢y √¥ nhi·ªÖm, t√°c ƒë·ªông c·ª• th·ªÉ, v√† c√°c gi·∫£i ph√°p kh·∫£ thi ƒë·ªÉ c√πng nhau h√†nh ƒë·ªông v√¨ m·ªôt b·∫ßu kh√¥ng kh√≠ trong l√†nh h∆°n.
                    </p>
                </div>
            </section>
            
            <!-- Ph·∫ßn 'T·ªïng quan' -->
            <section id="page-overview" class="content-section">
                <div class="card">
                    <h2 class="text-3xl font-bold text-71a6b7 mb-6 text-center">T·ªïng quan v·ªÅ √î nhi·ªÖm Kh√¥ng kh√≠: V·∫•n n·∫°n To√†n c·∫ßu</h2>
                    
                    <p class="text-lg text-gray-700 mb-6 max-w-4xl mx-auto text-left">
                        Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi ·ª©ng d·ª•ng ph√¢n t√≠ch t∆∞∆°ng t√°c v·ªÅ √¥ nhi·ªÖm kh√¥ng kh√≠. Trang n√†y cung c·∫•p m·ªôt c√°i nh√¨n to√†n di·ªán v·ªÅ m·ª©c ƒë·ªô nghi√™m tr·ªçng c·ªßa v·∫•n ƒë·ªÅ, ƒë·ªãnh nghƒ©a khoa h·ªçc v√† nh·ªØng t√°c ƒë·ªông s√¢u r·ªông c·ªßa n√≥ tr√™n to√†n c·∫ßu. √î nhi·ªÖm kh√¥ng kh√≠ kh√¥ng ch·ªâ l√† m·ªôt v·∫•n ƒë·ªÅ m√¥i tr∆∞·ªùng, m√† c√≤n l√† m·ªôt cu·ªôc kh·ªßng ho·∫£ng s·ª©c kh·ªèe c·ªông ƒë·ªìng v√† kinh t·∫ø, ƒë√≤i h·ªèi s·ª± ch√∫ √Ω v√† h√†nh ƒë·ªông ngay l·∫≠p t·ª©c t·ª´ t·∫•t c·∫£ ch√∫ng ta.
                    </p>

                    <div class="text-center mb-10">
                        <div class="bg-f7f3e9 p-6 rounded-lg inline-block border border-a4d2df shadow-lg">
                            <div class="text-6xl md:text-8xl font-bold text-red-600">7 TRI·ªÜU</div>
                            <div class="text-xl md:text-2xl font-semibold text-gray-800 mt-2">Ng∆∞·ªùi t·ª≠ vong s·ªõm m·ªói nƒÉm</div>
                            <p class="text-md text-gray-600 mt-2">(Theo T·ªï ch·ª©c Y t·∫ø Th·∫ø gi·ªõi - WHO)</p>
                        </div>
                    </div>
                    
                    <div class="max-w-4xl mx-auto">
                        <h3 class="text-2xl font-semibold text-71a6b7 mb-4 project-heading">ƒê·ªãnh nghƒ©a √î nhi·ªÖm Kh√¥ng kh√≠</h3>
                        <p class="text-gray-700 mb-4 text-justify">
                            √î nhi·ªÖm kh√¥ng kh√≠ ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a l√† <strong>s·ª± thay ƒë·ªïi l·ªõn trong th√†nh ph·∫ßn c·ªßa kh√¥ng kh√≠</strong>, ch·ªß y·∫øu do s·ª± hi·ªán di·ªán c·ªßa c√°c ch·∫•t h√≥a h·ªçc, h·∫°t v·∫≠t ch·∫•t, ho·∫∑c c√°c t√°c nh√¢n sinh h·ªçc kh√¥ng ph·∫£i l√† m·ªôt ph·∫ßn t·ª± nhi√™n c·ªßa kh√¥ng kh√≠. C√°c ch·∫•t √¥ nhi·ªÖm n√†y, khi ƒë·∫°t ƒë·∫øn n·ªìng ƒë·ªô ƒë·ªß cao, c√≥ th·ªÉ g√¢y h·∫°i cho s·ª©c kh·ªèe con ng∆∞·ªùi, c√°c sinh v·∫≠t s·ªëng kh√°c v√† m√¥i tr∆∞·ªùng.
                        </p>
                        <p class="text-gray-700 text-justify">
                            C√°c ch·∫•t √¥ nhi·ªÖm n√†y c√≥ th·ªÉ t·ªìn t·∫°i ·ªü d·∫°ng kh√≠ (nh∆∞ sulfur dioxide, carbon monoxide, ozone), ho·∫∑c d·∫°ng h·∫°t l∆° l·ª≠ng (nh∆∞ b·ª•i m·ªãn PM‚ÇÇ.‚ÇÖ). Ch√∫ng c√≥ th·ªÉ ƒë·∫øn t·ª´ c√°c ngu·ªìn t·ª± nhi√™n (n√∫i l·ª≠a phun tr√†o, ch√°y r·ª´ng) nh∆∞ng ph·∫ßn l·ªõn l√† k·∫øt qu·∫£ t·ª´ c√°c ho·∫°t ƒë·ªông c·ªßa con ng∆∞·ªùi (giao th√¥ng, c√¥ng nghi·ªáp, n√¥ng nghi·ªáp).
                        </p>

                        <h3 class="text-2xl font-semibold text-71a6b7 mt-8 mb-4 project-heading">H∆°n 99% D√¢n s·ªë Th·∫ø gi·ªõi H√≠t th·ªü Kh√¥ng kh√≠ √î nhi·ªÖm</h3>
                        <p class="text-gray-700 mb-4 text-justify">
                            Theo T·ªï ch·ª©c Y t·∫ø Th·∫ø gi·ªõi (WHO), g·∫ßn nh∆∞ to√†n b·ªô d√¢n s·ªë to√†n c·∫ßu (99%) ƒëang h√≠t th·ªü kh√¥ng kh√≠ c√≥ ch·ª©a n·ªìng ƒë·ªô ch·∫•t √¥ nhi·ªÖm v∆∞·ª£t qu√° gi·ªõi h·∫°n khuy·∫øn ngh·ªã. V·∫•n ƒë·ªÅ n√†y ƒë·∫∑c bi·ªát nghi√™m tr·ªçng ·ªü c√°c qu·ªëc gia c√≥ thu nh·∫≠p th·∫•p v√† trung b√¨nh, n∆°i h√†ng tri·ªáu ng∆∞·ªùi ph·∫£i ƒë·ªëi m·∫∑t v·ªõi m·ª©c ƒë·ªô ph∆°i nhi·ªÖm nguy hi·ªÉm h√†ng ng√†y.
                        </p>
                        <p class="text-gray-700 text-justify">
                            ƒêi·ªÅu n√†y kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü c√°c khu v·ª±c ƒë√¥ th·ªã ƒë√¥ng ƒë√∫c. √î nhi·ªÖm kh√¥ng kh√≠ trong nh√† t·ª´ vi·ªác ƒë·ªët nhi√™n li·ªáu sinh kh·ªëi (g·ªó, than) ƒë·ªÉ n·∫•u ƒÉn v√† s∆∞·ªüi ·∫•m c≈©ng l√† m·ªôt m·ªëi ƒëe d·ªça s·ª©c kh·ªèe nghi√™m tr·ªçng, ·∫£nh h∆∞·ªüng ƒë·∫øn kho·∫£ng 2.4 t·ª∑ ng∆∞·ªùi tr√™n to√†n th·∫ø gi·ªõi.
                        </p>

                        <h3 class="text-2xl font-semibold text-71a6b7 mt-8 mb-4 project-heading">T√°c ƒë·ªông K√©p: S·ª©c kh·ªèe v√† Kinh t·∫ø</h3>
                        <p class="text-gray-700 mb-4 text-justify">
                            G√°nh n·∫∑ng c·ªßa √¥ nhi·ªÖm kh√¥ng kh√≠ kh√¥ng ch·ªâ d·ª´ng l·∫°i ·ªü con s·ªë t·ª≠ vong. N√≥ c√≤n g√¢y ra h√†ng lo·∫°t c√°c b·ªánh m√£n t√≠nh, l√†m gi·∫£m ch·∫•t l∆∞·ª£ng cu·ªôc s·ªëng v√† t·∫°o ra √°p l·ª±c kh·ªïng l·ªì l√™n h·ªá th·ªëng y t·∫ø. ƒê·ªìng th·ªùi, √¥ nhi·ªÖm kh√¥ng kh√≠ c≈©ng g√¢y thi·ªát h·∫°i kinh t·∫ø ƒë√°ng k·ªÉ th√¥ng qua vi·ªác gi·∫£m nƒÉng su·∫•t lao ƒë·ªông, chi ph√≠ chƒÉm s√≥c s·ª©c kh·ªèe tƒÉng cao, v√† t√°c ƒë·ªông ti√™u c·ª±c ƒë·∫øn n√¥ng nghi·ªáp v√† du l·ªãch.
                        </p>
                    </div>
                    
                </div>
            </section>

            <section id="page-sources" class="content-section">
                <div class="card mb-8">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4 text-center">Ngu·ªìn G·ªëc & Ch·ªâ s·ªë ƒêo l∆∞·ªùng</h2>
                    <p class="text-lg text-gray-700 mb-8 max-w-4xl mx-auto text-center">ƒê·ªÉ hi·ªÉu r√µ v·ªÅ √¥ nhi·ªÖm, ch√∫ng ta c·∫ßn x√°c ƒë·ªãnh c√°c ngu·ªìn ph√°t th·∫£i ch√≠nh v√† c√°ch ch√∫ng ta ƒëo l∆∞·ªùng ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠. Ph·∫ßn n√†y tr√¨nh b√†y tr·ª±c quan c√°c ngu·ªìn g√¢y √¥ nhi·ªÖm nh√¢n t·∫°o v√† gi·∫£i th√≠ch Ch·ªâ s·ªë Ch·∫•t l∆∞·ª£ng Kh√¥ng kh√≠ (AQI), sau ƒë√≥ so s√°nh n·ªìng ƒë·ªô b·ª•i m·ªãn PM‚ÇÇ.‚ÇÖ t·∫°i c√°c th√†nh ph·ªë l·ªõn.</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="card">
                        <h3 class="text-xl font-semibold text-center text-71a6b7 mb-4">Gi·∫£i th√≠ch Ch·ªâ s·ªë Ch·∫•t l∆∞·ª£ng Kh√¥ng kh√≠ (AQI)</h3>
                        <p class="text-center text-gray-600 mb-6">AQI l√† thang ƒëo m·ª©c ƒë·ªô √¥ nhi·ªÖm kh√¥ng kh√≠. M·ªói kho·∫£ng gi√° tr·ªã t∆∞∆°ng ·ª©ng v·ªõi m·ªôt m·ª©c ƒë·ªô c·∫£nh b√°o s·ª©c kh·ªèe v√† m·ªôt m√†u s·∫Øc c·ª• th·ªÉ.</p>
                        <ul class="space-y-3">
                            <li class="aqi-item bg-green-100 text-green-900">
                                <span class="w-16 font-bold text-lg">0-50</span>
                                <span class="w-5 h-5 rounded-full bg-green-500 mx-4 flex-shrink-0"></span>
                                <span class="flex-grow">T·ªët</span>
                            </li>
                            <li class="aqi-item bg-yellow-100 text-yellow-900">
                                <span class="w-16 font-bold text-lg">51-100</span>
                                <span class="w-5 h-5 rounded-full bg-yellow-500 mx-4 flex-shrink-0"></span>
                                <span class="flex-grow">Trung b√¨nh</span>
                            </li>
                            <li class="aqi-item bg-orange-100 text-orange-900">
                                <span class="w-16 font-bold text-lg">101-150</span>
                                <span class="w-5 h-5 rounded-full bg-orange-500 mx-4 flex-shrink-0"></span>
                                <span class="flex-grow">K√©m (Nh√≥m nh·∫°y c·∫£m c·∫ßn l∆∞u √Ω)</span>
                            </li>
                            <li class="aqi-item bg-red-100 text-red-900">
                                <span class="w-16 font-bold text-lg">151-200</span>
                                <span class="w-5 h-5 rounded-full bg-red-600 mx-4 flex-shrink-0"></span>
                                <span class="flex-grow">X·∫•u (C√≥ h·∫°i cho s·ª©c kh·ªèe)</span>
                            </li>
                            <li class="aqi-item bg-purple-100 text-purple-900">
                                <span class="w-16 font-bold text-lg">201-300</span>
                                <span class="w-5 h-5 rounded-full bg-purple-700 mx-4 flex-shrink-0"></span>
                                <span class="flex-grow">R·∫•t x·∫•u (R·∫•t c√≥ h·∫°i)</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h3 class="text-xl font-semibold text-center text-71a6b7 mb-4">Ngu·ªìn √î nhi·ªÖm Nh√¢n t·∫°o Ch√≠nh</h3>
                        <p class="text-center text-gray-600 mb-6">Bi·ªÉu ƒë·ªì n√†y minh h·ªça t·ª∑ tr·ªçng c√°c ho·∫°t ƒë·ªông c·ªßa con ng∆∞·ªùi g√≥p ph·∫ßn v√†o √¥ nhi·ªÖm kh√¥ng kh√≠ to√†n c·∫ßu. Di chu·ªôt qua t·ª´ng ph·∫ßn ƒë·ªÉ xem chi ti·∫øt.</p>
                        <div class="chart-container">
                            <canvas id="sourcesChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="card mt-8">
                    <h3 class="text-xl font-semibold text-center text-71a6b7 mb-4">C√°c Ch·∫•t √î nhi·ªÖm Kh√¥ng kh√≠ Ph·ªï bi·∫øn</h3>
                    <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">Kh√¥ng kh√≠ √¥ nhi·ªÖm l√† m·ªôt h·ªón h·ª£p ph·ª©c t·∫°p. D∆∞·ªõi ƒë√¢y l√† c√°c ch·∫•t √¥ nhi·ªÖm ch√≠nh th∆∞·ªùng ƒë∆∞·ª£c theo d√µi v√¨ t√°c ƒë·ªông tr·ª±c ti·∫øp c·ªßa ch√∫ng ƒë·∫øn s·ª©c kh·ªèe v√† m√¥i tr∆∞·ªùng.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">B·ª•i M·ªãn (PM‚ÇÇ.‚ÇÖ & PM10)</h4>
                            <p class="text-gray-700 mt-1">C√°c h·∫°t r·∫Øn ho·∫∑c l·ªèng si√™u nh·ªè l∆° l·ª≠ng, c√≥ kh·∫£ nƒÉng x√¢m nh·∫≠p s√¢u v√†o ph·ªïi v√† m√°u. Ngu·ªìn g·ªëc: ƒë·ªët nhi√™n li·ªáu, x√¢y d·ª±ng, c√¥ng nghi·ªáp.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">Ozone T·∫ßng M·∫∑t (O‚ÇÉ)</h4>
                            <p class="text-gray-700 mt-1">Ch·∫•t √¥ nhi·ªÖm th·ª© c·∫•p, h√¨nh th√†nh khi NO‚Çì v√† VOCs ph·∫£n ·ª©ng v·ªõi √°nh s√°ng m·∫∑t tr·ªùi. L√† th√†nh ph·∫ßn ch√≠nh c·ªßa s∆∞∆°ng m√π quang h√≥a.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">Sulfur Dioxide (SO‚ÇÇ)</h4>
                            <p class="text-gray-700 mt-1">Ph√°t th·∫£i t·ª´ vi·ªác ƒë·ªët nhi√™n li·ªáu h√≥a th·∫°ch (nh∆∞ than) trong c√°c nh√† m√°y ƒëi·ªán v√† c√¥ng nghi·ªáp. G√¢y m∆∞a axit.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">Oxide c·ªßa Nitrogen (NO‚Çì)</h4>
                            <p class="text-gray-700 mt-1">Sinh ra t·ª´ qu√° tr√¨nh ƒë·ªët nhi·ªát ƒë·ªô cao, ch·ªß y·∫øu t·ª´ kh√≠ th·∫£i xe c·ªô v√† nh√† m√°y ƒëi·ªán. G√≥p ph·∫ßn t·∫°o ra O‚ÇÉ v√† m∆∞a axit.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">Carbon Monoxide (CO)</h4>
                            <p class="text-gray-700 mt-1">Kh√≠ ƒë·ªôc kh√¥ng m√†u, kh√¥ng m√πi, sinh ra t·ª´ vi·ªác ƒë·ªët ch√°y kh√¥ng ho√†n to√†n nhi√™n li·ªáu, ƒë·∫∑c bi·ªát l√† t·ª´ ph∆∞∆°ng ti·ªán giao th√¥ng.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">H·ª£p ch·∫•t h·ªØu c∆° (VOCs)</h4>
                            <p class="text-gray-700 mt-1">Bay h∆°i t·ª´ s∆°n, dung m√¥i, v√† nhi√™n li·ªáu. Ch√∫ng l√† ti·ªÅn ch·∫•t quan tr·ªçng h√¨nh th√†nh Ozone (O‚ÇÉ) t·∫ßng m·∫∑t.</p>
                        </div>
                    </div>
                </div>

                <div class="card mt-8">
                    <h3 class="text-xl font-semibold text-center text-71a6b7 mb-4 pb-3 border-b-4 border-71a6b7 inline-block mx-auto" style="display: block; width: fit-content; min-width: 400px;">So s√°nh N·ªìng ƒë·ªô B·ª•i m·ªãn PM‚ÇÇ.‚ÇÖ</h3>
                    <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">PM‚ÇÇ.‚ÇÖ l√† c√°c h·∫°t b·ª•i si√™u m·ªãn, c·ª±c k·ª≥ nguy hi·ªÉm v√¨ ch√∫ng c√≥ th·ªÉ ƒëi s√¢u v√†o ph·ªïi v√† m√°u. Bi·ªÉu ƒë·ªì n√†y so s√°nh n·ªìng ƒë·ªô PM‚ÇÇ.‚ÇÖ trung b√¨nh nƒÉm (¬µg/m¬≥) t·∫°i m·ªôt s·ªë th√†nh ph·ªë (s·ªë li·ªáu minh h·ªça).</p>
                    <div class="chart-container-bar">
                        <canvas id="citiesChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="page-impact" class="content-section">
                <div class="card">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4 text-center">T√°c ƒë·ªông ƒêa Chi·ªÅu C·ªßa √î nhi·ªÖm</h2>
                    <p class="text-lg text-gray-700 mb-8 max-w-4xl mx-auto text-center">√î nhi·ªÖm kh√¥ng kh√≠ kh√¥ng ch·ªâ l√† m·ªôt con s·ªë; n√≥ c√≥ nh·ªØng h·∫≠u qu·∫£ th·ª±c t·∫ø v√† nghi√™m tr·ªçng. Ph·∫ßn n√†y tr√¨nh b√†y s∆° ƒë·ªì lu·ªìng ƒë∆°n gi·∫£n h√≥a, cho th·∫•y c√°c ch·∫•t √¥ nhi·ªÖm ch√≠nh d·∫´n ƒë·∫øn c√°c t√°c ƒë·ªông ti√™u c·ª±c l√™n c·∫£ s·ª©c kh·ªèe con ng∆∞·ªùi v√† m√¥i tr∆∞·ªùng t·ª± nhi√™n.</p>
                    
                    <div class="flex flex-col items-center space-y-6">
                        <div class="p-4 bg-f7f3e9 rounded-lg shadow-md border border-a4d2df text-center">
                            <h3 class="text-xl font-bold text-71a6b7">NGU·ªíN G·ªêC</h3>
                            <p class="text-gray-800">ƒê·ªët nhi√™n li·ªáu h√≥a th·∫°ch, C√¥ng nghi·ªáp, Giao th√¥ng</p>
                        </div>
                        
                        <div class="text-4xl font-light text-71a6b7">‚Üì</div>

                        <div class="p-4 bg-white rounded-lg shadow border border-bfe0e9 text-center">
                            <h3 class="text-lg font-semibold text-gray-800">Ch·∫•t √¥ nhi·ªÖm ch√≠nh</h3>
                            <p class="text-gray-600">PM‚ÇÇ.‚ÇÖ, SO‚ÇÇ, NO‚Çì, O‚ÇÉ</p>
                        </div>

                        <div class="text-4xl font-light text-71a6b7">‚Üì</div>
                        
                        <div class="w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-6 text-center">
                            <div class="p-4 bg-bfe0e9 rounded-lg shadow-inner">
                                <h3 class="text-xl font-bold text-71a6b7">T√ÅC ƒê·ªòNG S·ª®C KH·ªé·∫∫</h3>
                                <ul class="list-disc list-inside text-left mt-3 text-gray-800 space-y-2 p-3">
                                    <li>B·ªánh h√¥ h·∫•p (hen suy·ªÖn, vi√™m ph·∫ø qu·∫£n)</li>
                                    <li>B·ªánh tim m·∫°ch (ƒëau tim, ƒë·ªôt qu·ªµ)</li>
                                    <li>·∫¢nh h∆∞·ªüng h·ªá th·∫ßn kinh</li>
                                    <li>TƒÉng nguy c∆° ung th∆∞ ph·ªïi</li>
                                </ul>
                            </div>
                            
                            <div class="p-4 bg-f7f3e9 rounded-lg shadow-inner border border-a4d2df">
                                <h3 class="text-xl font-bold text-71a6b7">T√ÅC ƒê·ªòNG M√îI TR∆Ø·ªúNG</h3>
                                <ul class="list-disc list-inside text-left mt-3 text-gray-800 space-y-2 p-3">
                                    <li>M∆∞a axit (ph√° h·ªßy r·ª´ng v√† ngu·ªìn n∆∞·ªõc)</li>
                                    <li>Hi·ªáu ·ª©ng nh√† k√≠nh (bi·∫øn ƒë·ªïi kh√≠ h·∫≠u)</li>
                                    <li>Ph√° h·ªßy t·∫ßng Ozone (do CFCs)</li>
                                    <li>Gi·∫£m ƒëa d·∫°ng sinh h·ªçc</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card mt-8">
                    <h3 class="text-xl font-semibold text-center text-71a6b7 mb-4">Ph√¢n t√≠ch T√°c ƒë·ªông S√¢u h∆°n</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">T√°c ƒë·ªông Kinh t·∫ø</h4>
                            <p class="text-gray-700 mt-1">Chi ph√≠ y t·∫ø gia tƒÉng ƒë·ªÉ ƒëi·ªÅu tr·ªã c√°c b·ªánh li√™n quan ƒë·∫øn √¥ nhi·ªÖm, m·∫•t nƒÉng su·∫•t lao ƒë·ªông do ngh·ªâ ·ªëm, v√† thi·ªát h·∫°i cho ng√†nh du l·ªãch l√† nh·ªØng g√°nh n·∫∑ng kinh t·∫ø tr·ª±c ti·∫øp.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">Nh√≥m D√¢n s·ªë D·ªÖ b·ªã T·ªïn th∆∞∆°ng</h4>
                            <p class="text-gray-700 mt-1">Tr·∫ª em, ng∆∞·ªùi gi√†, v√† nh·ªØng ng∆∞·ªùi c√≥ b·ªánh n·ªÅn l√† nh·ªØng ƒë·ªëi t∆∞·ª£ng ch·ªãu ·∫£nh h∆∞·ªüng n·∫∑ng n·ªÅ nh·∫•t. H·ªá h√¥ h·∫•p v√† mi·ªÖn d·ªãch c·ªßa tr·∫ª em ch∆∞a ph√°t tri·ªÉn ho√†n thi·ªán, khi·∫øn c√°c em ƒë·∫∑c bi·ªát nh·∫°y c·∫£m.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">·∫¢nh h∆∞·ªüng N√¥ng nghi·ªáp</h4>
                            <p class="text-gray-700 mt-1">Ozone t·∫ßng m·∫∑t (O‚ÇÉ) v√† m∆∞a axit c√≥ th·ªÉ l√†m h·ªèng c√¢y tr·ªìng, gi·∫£m nƒÉng su·∫•t n√¥ng nghi·ªáp v√† ƒëe d·ªça an ninh l∆∞∆°ng th·ª±c. C√°c kim lo·∫°i n·∫∑ng trong kh√¥ng kh√≠ c≈©ng c√≥ th·ªÉ nhi·ªÖm v√†o ƒë·∫•t v√† ngu·ªìn n∆∞·ªõc.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="page-solutions" class="content-section">
                <div class="card">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4 text-center">C√°c Gi·∫£i Ph√°p K·ªπ Thu·∫≠t v√† Ch√≠nh S√°ch</h2>
                    <p class="text-lg text-gray-700 mb-8 max-w-4xl mx-auto text-center">Ph·∫ßn n√†y ƒëi s√¢u v√†o c√°c chi·∫øn l∆∞·ª£c k·ªπ thu·∫≠t v√† ch√≠nh s√°ch vƒ© m√¥ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ki·ªÉm so√°t √¥ nhi·ªÖm kh√¥ng kh√≠, t·ª´ vi·ªác gi·∫£m ph√°t th·∫£i t·∫°i ngu·ªìn cho ƒë·∫øn c√¥ng ngh·ªá l·ªçc kh√¥ng kh√≠ ti√™n ti·∫øn.</p>

                    <!-- 4.1. Gi·∫£i ph√°p ki·ªÉm so√°t ngu·ªìn th·∫£i quy m√¥ l·ªõn -->
                    <div class="mb-10 p-6 bg-f7f3e9 rounded-lg border border-a4d2df">
                        <h3 class="text-2xl font-bold text-71a6b7 mb-4">4.1. Ki·ªÉm so√°t Ngu·ªìn Ph√°t th·∫£i Quy m√¥ l·ªõn</h3>
                        
                        <h4 class="text-xl font-semibold text-gray-800 mt-6 mb-2">4.1.1. Ti√™u chu·∫©n Kh√≠ th·∫£i Ph∆∞∆°ng ti·ªán Giao th√¥ng</h4>
                        <p class="text-gray-700 mb-4">Vi·ªác √°p d·ª•ng c√°c ti√™u chu·∫©n kh√≠ th·∫£i nghi√™m ng·∫∑t (v√≠ d·ª•: Euro 5, Euro 6) l√† gi·∫£i ph√°p k·ªπ thu·∫≠t c·ªët l√µi ƒë·ªÉ gi·∫£m ph√°t th·∫£i t·ª´ xe c·ªô, v·ªën l√† m·ªôt trong nh·ªØng ngu·ªìn g√¢y √¥ nhi·ªÖm ch√≠nh ·ªü ƒë√¥ th·ªã.</p>

                        <h4 class="text-xl font-semibold text-gray-800 mt-6 mb-2">4.1.2. Ph√°t tri·ªÉn NƒÉng l∆∞·ª£ng T√°i t·∫°o (NLTT)</h4>
                        <p class="text-gray-700">Chuy·ªÉn ƒë·ªïi t·ª´ nhi√™n li·ªáu h√≥a th·∫°ch sang c√°c ngu·ªìn nƒÉng l∆∞·ª£ng s·∫°ch nh∆∞ nƒÉng l∆∞·ª£ng m·∫∑t tr·ªùi, gi√≥, v√† th·ªßy ƒëi·ªán l√† gi·∫£i ph√°p b·ªÅn v·ªØng nh·∫•t ƒë·ªÉ c·∫Øt gi·∫£m ph√°t th·∫£i SO‚ÇÇ, NO‚Çì, v√† b·ª•i m·ªãn t·ª´ c√°c nh√† m√°y ƒëi·ªán.</p>
                    </div>

                    <!-- 4.2. C√¥ng ngh·ªá x·ª≠ l√Ω v√† l·ªçc kh√¥ng kh√≠ -->
                    <div class="mb-10 p-6 bg-bfe0e9 rounded-lg">
                        <h3 class="text-2xl font-bold text-71a6b7 mb-4">4.2. C√¥ng ngh·ªá X·ª≠ l√Ω v√† L·ªçc Kh√¥ng kh√≠</h3>
                        <p class="text-lg text-gray-700 mb-4">C√°c c√¥ng ngh·ªá n√†y gi√∫p lo·∫°i b·ªè ch·∫•t √¥ nhi·ªÖm kh·ªèi kh√¥ng kh√≠, ƒë·∫∑c bi·ªát hi·ªáu qu·∫£ trong kh√¥ng gian trong nh√† ho·∫∑c c√°c khu v·ª±c nh·∫°y c·∫£m.</p>
                        
                        <h4 class="text-xl font-semibold text-gray-800 mt-4 mb-2">4.2.1. M√†ng l·ªçc HEPA (High Efficiency Particulate Air)</h4>
                        <p class="text-gray-700">Hi·ªáu qu·∫£ cao trong vi·ªác gi·ªØ l·∫°i c√°c h·∫°t b·ª•i si√™u m·ªãn (PM‚ÇÇ.‚ÇÖ), vi khu·∫©n v√† ph·∫•n hoa. Th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng trong m√°y l·ªçc kh√¥ng kh√≠ gia ƒë√¨nh v√† h·ªá th·ªëng th√¥ng gi√≥ c·ªßa c√°c t√≤a nh√†.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                            <div class="p-4 bg-green-100 rounded-lg">
                                <h5 class="font-bold text-lg text-green-800">∆Øu ƒëi·ªÉm</h5>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><b>Hi·ªáu qu·∫£ l·ªçc v∆∞·ª£t tr·ªôi:</b> Lo·∫°i b·ªè t·ªõi 99,9% c√°c h·∫°t b·ª•i si√™u m·ªãn (PM‚ÇÇ.‚ÇÖ), vi khu·∫©n, v√† ch·∫•t g√¢y d·ªã ·ª©ng.</li>
                                    <li><b>·ª®ng d·ª•ng ƒëa d·∫°ng:</b> S·ª≠ d·ª•ng r·ªông r√£i trong y t·∫ø, thi·∫øt b·ªã gia d·ª•ng v√† c√¥ng nghi·ªáp.</li>
                                </ul>
                            </div>
                            <div class="p-4 bg-red-100 rounded-lg">
                                <h5 class="font-bold text-lg text-red-800">Nh∆∞·ª£c ƒëi·ªÉm</h5>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><b>Chi ph√≠ thay th·∫ø ƒë·ªãnh k·ª≥:</b> Ph·∫£i thay m√†ng l·ªçc sau m·ªói 6-12 th√°ng.</li>
                                    <li><b>Kh√¥ng th·ªÉ t√°i s·ª≠ d·ª•ng:</b> Kh√¥ng th·ªÉ v·ªá sinh b·∫±ng n∆∞·ªõc, d·ªÖ l√†m h·ªèng c·∫•u tr√∫c m√†ng.</li>
                                    <li><b>Kh√¥ng l·ªçc ƒë∆∞·ª£c kh√≠ ƒë·ªôc v√† m√πi:</b> Ch·ªâ hi·ªáu qu·∫£ v·ªõi c√°c lo·∫°i h·∫°t.</li>
                                    <li><b>Nguy c∆° t√≠ch t·ª• vi sinh v·∫≠t:</b> C·∫ßn thay th·∫ø ƒë·ªãnh k·ª≥ ƒë·ªÉ tr√°nh n·∫•m m·ªëc, vi khu·∫©n ph√°t tri·ªÉn.</li>
                                </ul>
                            </div>
                        </div>

                        <h4 class="text-xl font-semibold text-gray-800 mt-6 mb-2">4.2.2. M√°y l·ªçc Tƒ©nh ƒëi·ªán (ESP)</h4>
                        <p class="text-gray-700">S·ª≠ d·ª•ng ƒëi·ªán tr∆∞·ªùng ƒë·ªÉ ion h√≥a v√† thu gi·ªØ c√°c h·∫°t b·ª•i. ∆Øu ƒëi·ªÉm l√† √≠t c·∫£n tr·ªü lu·ªìng kh√¥ng kh√≠ v√† kh√¥ng c·∫ßn thay th·∫ø m√†ng l·ªçc th∆∞·ªùng xuy√™n, nh∆∞ng c√≥ th·ªÉ ph√°t sinh m·ªôt l∆∞·ª£ng nh·ªè ozone.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                            <div class="p-4 bg-green-100 rounded-lg">
                                <h5 class="font-bold text-lg text-green-800">∆Øu ƒëi·ªÉm</h5>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><b>Hi·ªáu su·∫•t l·ªçc cao:</b> Lo·∫°i b·ªè t·ªõi 99% c√°c h·∫°t b·ª•i, k·ªÉ c·∫£ b·ª•i m·ªãn PM‚ÇÇ.‚ÇÖ.</li>
                                    <li><b>Chi ph√≠ v·∫≠n h√†nh th·∫•p:</b> Phin l·ªçc c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng sau khi v·ªá sinh.</li>
                                    <li><b>√çt c·∫£n tr·ªü lu·ªìng kh√¥ng kh√≠:</b> Gi√∫p ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng cho h·ªá th·ªëng th√¥ng gi√≥.</li>
                                </ul>
                            </div>
                            <div class="p-4 bg-red-100 rounded-lg">
                                <h5 class="font-bold text-lg text-red-800">Nh∆∞·ª£c ƒëi·ªÉm</h5>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><b>Chi ph√≠ ƒë·∫ßu t∆∞ ban ƒë·∫ßu cao:</b> Gi√° th√†nh thi·∫øt b·ªã v√† l·∫Øp ƒë·∫∑t cao.</li>
                                    <li><b>Y√™u c·∫ßu v·ªá sinh ƒë·ªãnh k·ª≥:</b> C√°c t·∫•m ƒëi·ªán c·ª±c c·∫ßn ƒë∆∞·ª£c l√†m s·∫°ch th∆∞·ªùng xuy√™n.</li>
                                    <li><b>C√≥ th·ªÉ t·∫°o ra Ozone (O‚ÇÉ):</b> C√≥ kh·∫£ nƒÉng g√¢y h·∫°i cho s·ª©c kh·ªèe n·∫øu ·ªü n·ªìng ƒë·ªô cao.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 4.3. H√†nh ƒë·ªông C√° nh√¢n v√† C·ªông ƒë·ªìng -->
                    <div class="mb-10 p-6 bg-f7f3e9 rounded-lg border border-a4d2df">
                        <h3 class="text-2xl font-bold text-71a6b7 mb-4">4.3. H√†nh ƒë·ªông C√° nh√¢n v√† C·ªông ƒë·ªìng</h3>
                        <p class="text-lg text-gray-700 mb-4">M·ªói c√° nh√¢n v√† c·ªông ƒë·ªìng ƒë·ªÅu c√≥ th·ªÉ ƒë√≥ng g√≥p v√†o vi·ªác c·∫£i thi·ªán ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠ th√¥ng qua nh·ªØng h√†nh ƒë·ªông thi·∫øt th·ª±c h√†ng ng√†y.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                            <div>
                                <h4 class="font-semibold text-gray-800">∆Øu ti√™n Giao th√¥ng Xanh</h4>
                                <p class="text-gray-700">S·ª≠ d·ª•ng ph∆∞∆°ng ti·ªán c√¥ng c·ªông, ƒëi xe ƒë·∫°p, ƒëi b·ªô, ho·∫∑c chuy·ªÉn sang xe ƒëi·ªán ƒë·ªÉ gi·∫£m ph√°t th·∫£i t·ª´ giao th√¥ng c√° nh√¢n.</p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800">Ti·∫øt ki·ªám NƒÉng l∆∞·ª£ng</h4>
                                <p class="text-gray-700">T·∫Øt c√°c thi·∫øt b·ªã ƒëi·ªán khi kh√¥ng s·ª≠ d·ª•ng v√† l·ª±a ch·ªçn c√°c s·∫£n ph·∫©m ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng ƒë·ªÉ gi·∫£m g√°nh n·∫∑ng cho c√°c nh√† m√°y ƒëi·ªán.</p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800">Tr·ªìng th√™m C√¢y xanh</h4>
                                <p class="text-gray-700">C√¢y xanh kh√¥ng ch·ªâ h·∫•p th·ª• CO‚ÇÇ m√† c√≤n c√≥ kh·∫£ nƒÉng l·ªçc c√°c ch·∫•t √¥ nhi·ªÖm v√† b·ª•i trong kh√¥ng kh√≠, ho·∫°t ƒë·ªông nh∆∞ m·ªôt l√° ph·ªïi t·ª± nhi√™n.</p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800">Gi·∫£m thi·ªÉu ƒê·ªët r√°c</h4>
                                <p class="text-gray-700">H·∫°n ch·∫ø ƒë·ªët r√°c th·∫£i, ƒë·∫∑c bi·ªát l√† r√°c nh·ª±a v√† l√° c√¢y kh√¥, v√¨ ƒë√¢y l√† ngu·ªìn ph√°t sinh tr·ª±c ti·∫øp c√°c kh√≠ ƒë·ªôc v√† b·ª•i m·ªãn.</p>
                            </div>
                        </div>
                    </div>

                    <!-- 4.4. Ch√≠nh s√°ch Ch√≠nh ph·ªß v√† Quy ho·∫°ch ƒê√¥ th·ªã -->
                    <div class="p-6 bg-bfe0e9 rounded-lg">
                        <h3 class="text-2xl font-bold text-71a6b7 mb-4">4.4. Ch√≠nh s√°ch Ch√≠nh ph·ªß v√† Quy ho·∫°ch ƒê√¥ th·ªã</h3>
                        <p class="text-lg text-gray-700 mb-4">C√°c gi·∫£i ph√°p vƒ© m√¥ t·ª´ ch√≠nh ph·ªß v√† c√°c nh√† quy ho·∫°ch ƒë√¥ th·ªã ƒë√≥ng vai tr√≤ then ch·ªët trong vi·ªác t·∫°o ra s·ª± thay ƒë·ªïi mang t√≠nh h·ªá th·ªëng.</p>
                        <ul class="list-disc list-inside ml-4 text-gray-800 space-y-2">
                            <li><span class="font-semibold">Quy ho·∫°ch ƒê√¥ th·ªã Th√¥ng minh:</span> Thi·∫øt k·∫ø c√°c th√†nh ph·ªë v·ªõi nhi·ªÅu kh√¥ng gian xanh, l√†n ƒë∆∞·ªùng d√†nh cho xe ƒë·∫°p, v√† h·ªá th·ªëng giao th√¥ng c√¥ng c·ªông hi·ªáu qu·∫£.</li>
                            <li><span class="font-semibold">Th·∫Øt ch·∫∑t Quy ƒë·ªãnh M√¥i tr∆∞·ªùng:</span> √Åp d·ª•ng c√°c ti√™u chu·∫©n kh√≠ th·∫£i c√¥ng nghi·ªáp nghi√™m ng·∫∑t h∆°n v√† tƒÉng c∆∞·ªùng gi√°m s√°t, x·ª≠ ph·∫°t c√°c h√†nh vi vi ph·∫°m.</li>
                            <li><span class="font-semibold">Khuy·∫øn kh√≠ch C√¥ng ngh·ªá S·∫°ch:</span> Cung c·∫•p c√°c ch√≠nh s√°ch ∆∞u ƒë√£i v·ªÅ thu·∫ø v√† v·ªën ƒë·ªÉ khuy·∫øn kh√≠ch doanh nghi·ªáp ƒë·∫ßu t∆∞ v√†o c√¥ng ngh·ªá s·∫£n xu·∫•t s·∫°ch v√† nƒÉng l∆∞·ª£ng t√°i t·∫°o.</li>
                            <li><span class="font-semibold">N√¢ng cao Nh·∫≠n th·ª©c C·ªông ƒë·ªìng:</span> T·ªï ch·ª©c c√°c chi·∫øn d·ªãch truy·ªÅn th√¥ng ƒë·ªÉ gi√°o d·ª•c ng∆∞·ªùi d√¢n v·ªÅ t√°c h·∫°i c·ªßa √¥ nhi·ªÖm kh√¥ng kh√≠ v√† khuy·∫øn kh√≠ch c√°c h√†nh ƒë·ªông b·∫£o v·ªá m√¥i tr∆∞·ªùng.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="page-ai-advisor" class="content-section">
                <div class="card">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4 text-center">AI T∆∞ V·∫•n: Nh·∫≠n l·ªùi khuy√™n Ch·∫•t l∆∞·ª£ng Kh√¥ng kh√≠</h2>
                    <p class="text-lg text-gray-700 mb-6 max-w-4xl mx-auto text-center">S·ª≠ d·ª•ng m√¥ h√¨nh AI c·ªßa Google ƒë·ªÉ nh·∫≠n th√¥ng tin c·∫≠p nh·∫≠t v√† l·ªùi khuy√™n v·ªÅ √¥ nhi·ªÖm kh√¥ng kh√≠ d·ª±a tr√™n d·ªØ li·ªáu th·ªùi gian th·ª±c.</p>

                    <div class="max-w-xl mx-auto">
                        <div class="mb-4">
                            <label for="cityInput" class="block text-sm font-medium text-gray-700 mb-2">Nh·∫≠p th√†nh ph·ªë ho·∫∑c c√¢u h·ªèi v·ªÅ √¥ nhi·ªÖm:</label>
                            <input type="text" id="cityInput" placeholder="V√≠ d·ª•: 'Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠ H√† N·ªôi h√¥m nay' ho·∫∑c 'L√†m g√¨ khi PM‚ÇÇ.‚ÇÖ cao?'" class="w-full p-3 border border-bfe0e9 rounded-lg focus:ring-71a6b7 focus:border-71a6b7 transition duration-150">
                        </div>
                        <button id="getAdviceButton" class="llm-button w-full bg-71a6b7 text-black p-3 rounded-lg font-bold shadow-md hover:bg-5a8a9a flex items-center justify-center space-x-2">
                            <span id="buttonText">Nh·∫≠n T∆∞ V·∫•n</span>
                            <div id="spinner" class="spinner hidden"></div>
                        </button>

                        <div id="adviceOutput" class="advice-output mt-6 hidden">
                            <h3 class="font-bold text-xl text-71a6b7 mb-2">L·ªùi Khuy√™n AI</h3>
                            <div id="adviceText" class="text-gray-800 whitespace-pre-wrap"></div>
                            <div id="adviceSources" class="text-xs text-gray-500 mt-4 border-t pt-2"></div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- JavaScript cho t∆∞∆°ng t√°c v√† bi·ªÉu ƒë·ªì -->
    <script>
        // H√†m chuy·ªÉn ƒë·ªïi gi·ªØa c√°c tab
        function switchPage(pageId) {
            // Cu·ªôn l√™n ƒë·∫ßu trang
            window.scrollTo(0, 0);

            // 1. ·∫®n t·∫•t c·∫£ c√°c ph·∫ßn n·ªôi dung
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // 2. Hi·ªán ph·∫ßn n·ªôi dung ƒë∆∞·ª£c ch·ªçn
            const targetSection = document.getElementById(`page-${pageId}`);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // 3. C·∫≠p nh·∫≠t tr·∫°ng th√°i 'active' cho n√∫t ƒëi·ªÅu h∆∞·ªõng
            document.querySelectorAll('.nav-button').forEach(button => {
                button.classList.remove('active');
            });
            const activeButton = document.querySelector(`.nav-button[data-page="${pageId}"]`);
            if (activeButton) {
                activeButton.classList.add('active');
            }
        }

        // Thi·∫øt l·∫≠p s·ª± ki·ªán l·∫Øng nghe khi trang t·∫£i xong
        window.onload = function () {
            // L·∫Øng nghe s·ª± ki·ªán click tr√™n thanh ƒëi·ªÅu h∆∞·ªõng
            document.getElementById('mainNav').addEventListener('click', function(event) {
                if (event.target.classList.contains('nav-button')) {
                    const pageId = event.target.dataset.page;
                    if (pageId) {
                        switchPage(pageId);
                    }
                }
            });

            // Kh·ªüi t·∫°o bi·ªÉu ƒë·ªì khi trang t·∫£i
            if (document.getElementById('sourcesChart')) {
                initializeSourcesChart();
            }
            if (document.getElementById('citiesChart')) {
                initializeCitiesChart();
            }

            // K√≠ch ho·∫°t logic ban ƒë·∫ßu: 'project10a4' ƒë√£ ƒë∆∞·ª£c ƒë·∫∑t l√† 'active' trong HTML
            // Kh√¥ng c·∫ßn g·ªçi switchPage v√¨ class 'active' ƒë√£ ƒë∆∞·ª£c thi·∫øt l·∫≠p.
        };

        // D·ªØ li·ªáu v√† logic cho bi·ªÉu ƒë·ªì Ngu·ªìn G·ªëc (Pie/Doughnut Chart)
        function initializeSourcesChart() {
            const ctx = document.getElementById('sourcesChart').getContext('2d');
            const data = {
                labels: ['Giao th√¥ng', 'S·∫£n xu·∫•t C√¥ng nghi·ªáp', 'N√¥ng nghi·ªáp', 'ƒê·ªët nhi√™n li·ªáu Sinh kh·ªëi'],
                datasets: [{
                    label: 'T·ª∑ tr·ªçng ngu·ªìn √¥ nhi·ªÖm',
                    data: [35, 30, 20, 15], // S·ªë li·ªáu minh h·ªça
                    backgroundColor: [
                        '#71a6b7', // Giao th√¥ng
                        '#5a8a9a', // C√¥ng nghi·ªáp
                        '#bfe0e9', // N√¥ng nghi·ªáp
                        '#eaf4f7'  // Sinh kh·ªëi
                    ],
                    hoverOffset: 10
                }]
            };

            new Chart(ctx, {
                type: 'doughnut',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                font: {
                                    family: 'Inter'
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Ngu·ªìn √î nhi·ªÖm Kh√¥ng kh√≠ To√†n c·∫ßu (∆Ø·ªõc t√≠nh)',
                            font: {
                                size: 16,
                                family: 'Inter'
                            }
                        }
                    }
                }
            });
        }

        // D·ªØ li·ªáu v√† logic cho bi·ªÉu ƒë·ªì So s√°nh PM2.5 (Bar Chart)
        function initializeCitiesChart() {
            const ctx = document.getElementById('citiesChart').getContext('2d');
            
            const pm25Data = [35, 25, 40, 90, 12];
            const cityLabels = ['H√† N·ªôi', 'TP.HCM', 'Jakarta', 'Delhi', 'London'];
            const whoGuideline = 5; // WHO Guideline for annual PM2.5 is 5 ¬µg/m¬≥

            // H√†m ƒë·ªÉ l·∫•y m√†u d·ª±a tr√™n gi√° tr·ªã PM2.5 (g·∫ßn ƒë√∫ng v·ªõi thang AQI)
            function getAqiColor(value) {
                if (value <= 12) return 'rgba(0, 153, 102, 0.7)';    // T·ªët (Xanh l√°)
                if (value <= 35.4) return 'rgba(255, 222, 51, 0.7)'; // Trung b√¨nh (V√†ng)
                if (value <= 55.4) return 'rgba(255, 153, 51, 0.7)'; // K√©m (Cam)
                if (value <= 150.4) return 'rgba(204, 0, 51, 0.7)';  // X·∫•u (ƒê·ªè)
                return 'rgba(102, 0, 153, 0.7)';                     // R·∫•t x·∫•u (T√≠m)
            }

            const data = {
                labels: cityLabels,
                datasets: [
                    {
                        label: 'PM‚ÇÇ.‚ÇÖ trung b√¨nh nƒÉm (¬µg/m¬≥)',
                        data: pm25Data,
                        backgroundColor: pm25Data.map(value => getAqiColor(value)),
                        borderColor: pm25Data.map(value => getAqiColor(value).replace('0.7', '1')),
                        borderWidth: 1,
                        barPercentage: 0.7,
                        categoryPercentage: 0.8,
                    },
                    {
                        type: 'line',
                        label: `Ng∆∞·ª°ng khuy·∫øn ngh·ªã c·ªßa WHO (${whoGuideline} ¬µg/m¬≥)`,
                        data: Array(cityLabels.length).fill(whoGuideline),
                        borderColor: '#007bff',
                        borderWidth: 2,
                        fill: false,
                        pointRadius: 0,
                        borderDash: [5, 5], // Dotted line
                    }
                ]
            };

            new Chart(ctx, {
                type: 'bar',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                font: { family: 'Inter' },
                                filter: function(legendItem, chartData) {
                                    return legendItem.datasetIndex !== 0;
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'So s√°nh N·ªìng ƒë·ªô PM‚ÇÇ.‚ÇÖ Trung b√¨nh t·∫°i c√°c Th√†nh ph·ªë (¬µg/m¬≥)',
                            font: { size: 16, family: 'Inter' }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += context.parsed.y + ' ¬µg/m¬≥';
                                    }
                                    return label;
                                }
                            }
                        },
                        datalabels: {
                            anchor: 'end',
                            align: 'top',
                            formatter: (value, context) => {
                                return value;
                            },
                            font: {
                                weight: 'bold',
                                family: 'Inter'
                            },
                            color: '#333'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'N·ªìng ƒë·ªô PM‚ÇÇ.‚ÇÖ (¬µg/m¬≥)',
                                font: { family: 'Inter' }
                            }
                        },
                        x: {
                            ticks: {
                                font: { family: 'Inter' }
                            }
                        }
                    }
                }
            });
        }
        
        // LOGIC CHO AI T∆Ø V·∫§N (S·ª≠ d·ª•ng API Gemini)
        document.addEventListener('DOMContentLoaded', () => {
            const button = document.getElementById('getAdviceButton');
            const input = document.getElementById('cityInput');
            const outputDiv = document.getElementById('adviceOutput');
            const outputText = document.getElementById('adviceText');
            const outputSources = document.getElementById('adviceSources');
            const spinner = document.getElementById('spinner');
            const buttonText = document.getElementById('buttonText');

            // --- C·∫•u h√¨nh API Gemini ---
            const apiKey = ""; // API Key s·∫Ω ƒë∆∞·ª£c Canvas cung c·∫•p
            // xin m·∫•y ng∆∞·ªùi ƒëi qua ƒë·ª´ng ƒÉn c·∫Øp key, key mi·ªÖn ph√≠, ƒÉn c·∫Øp l√†m gi·ªÅ
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=AIzaSyAKRV9z2kI9KN03tB4Iiplo9XIdFegTTbM`;
            
            const systemPrompt = "B·∫°n l√† m·ªôt AI chatbot c·ªë v·∫•n m√¥i tr∆∞·ªùng chuy√™n nghi·ªáp c·ªßa l·ªõp 10A4, t·∫≠p trung v√†o √¥ nhi·ªÖm kh√¥ng kh√≠ v√† s·ª©c kh·ªèe c·ªông ƒë·ªìng. H√£y tr·∫£ l·ªùi c√¢u h·ªèi c·ªßa ng∆∞·ªùi d√πng b·∫±ng ti·∫øng Vi·ªát, cung c·∫•p l·ªùi khuy√™n ch√≠nh x√°c, d·ªÖ hi·ªÉu v√† d·ª±a tr√™n th√¥ng tin c·∫≠p nh·∫≠t (n·∫øu c√≥). Tr·∫£ l·ªùi m·ªôt c√°ch ng·∫Øn g·ªçn, s√∫c t√≠ch v√† th√¢n thi·ªán. Tuy·ªát ƒë·ªëi kh√¥ng s·ª≠ d·ª•ng LATEX v√† Markdown. Ch·ªâ s·ª≠ d·ª•ng Unicode.";
            
            const MAX_RETRIES = 3;
            const INITIAL_DELAY_MS = 1000; // 1 second

            // H√†m th·ª±c hi·ªán fetch v·ªõi exponential backoff
            async function fetchWithRetry(payload) {
                for (let i = 0; i < MAX_RETRIES; i++) {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (response.ok) {
                            return response;
                        }

                        // N·∫øu l·ªói 429 (Too Many Requests) ho·∫∑c l·ªói m√°y ch·ªß, th·ª≠ l·∫°i
                        if (response.status === 429 || response.status >= 500) {
                            const delay = INITIAL_DELAY_MS * (2 ** i) + Math.random() * 1000;
                            console.warn(`Request failed with status ${response.status}. Retrying in ${delay.toFixed(0)}ms...`);
                            await new Promise(resolve => setTimeout(resolve, delay));
                            continue; // B·∫Øt ƒë·∫ßu v√≤ng l·∫∑p ti·∫øp theo (th·ª≠ l·∫°i)
                        } else {
                            // C√°c l·ªói kh√°c (v√≠ d·ª•: 400, 404), tho√°t kh·ªèi v√≤ng l·∫∑p v√† n√©m l·ªói
                            throw new Error(`API returned status ${response.status}: ${await response.text()}`);
                        }
                    } catch (error) {
                        if (i === MAX_RETRIES - 1) {
                            throw new Error(`API call failed after ${MAX_RETRIES} attempts: ${error.message}`);
                        }
                        // N·∫øu l√† l·ªói m·∫°ng, c≈©ng ch·ªù v√† th·ª≠ l·∫°i
                        const delay = INITIAL_DELAY_MS * (2 ** i) + Math.random() * 1000;
                        console.warn(`Network error: ${error.message}. Retrying in ${delay.toFixed(0)}ms...`);
                        await new Promise(resolve => setTimeout(resolve, delay));
                    }
                }
            }


            // H√†m x·ª≠ l√Ω y√™u c·∫ßu t∆∞ v·∫•n AI th·ª±c
            const handleAdviceRequest = async () => {
                const userQuery = input.value.trim();
                if (!userQuery) {
                    outputText.innerHTML = "Vui l√≤ng nh·∫≠p c√¢u h·ªèi ho·∫∑c t√™n th√†nh ph·ªë ƒë·ªÉ nh·∫≠n l·ªùi khuy√™n.";
                    outputDiv.classList.remove('hidden');
                    return;
                }

                // Hi·ªÉn th·ªã tr·∫°ng th√°i t·∫£i
                button.disabled = true;
                spinner.classList.remove('hidden');
                buttonText.textContent = 'ƒêang t√¨m ki·∫øm...';
                outputDiv.classList.remove('hidden');
                outputText.textContent = 'ƒêang ch·ªù ph·∫£n h·ªìi t·ª´ AI...';
                outputSources.innerHTML = '';
                
                try {
                    // C·∫•u tr√∫c payload cho API Gemini v·ªõi Google Search Grounding
                    const payload = {
                        contents: [{ parts: [{ text: userQuery }] }],
                        tools: [{ "google_search": {} }], // B·∫≠t t√¨m ki·∫øm Google
                        systemInstruction: {
                            parts: [{ text: systemPrompt }]
                        },
                    };
                    
                    const response = await fetchWithRetry(payload);
                    const result = await response.json();
                    
                    const candidate = result.candidates?.[0];
                    
                    if (candidate && candidate.content?.parts?.[0]?.text) {
                        const text = candidate.content.parts[0].text;
                        let sources = [];
                        const groundingMetadata = candidate.groundingMetadata;

                        if (groundingMetadata && groundingMetadata.groundingAttributions) {
                            sources = groundingMetadata.groundingAttributions
                                .map(attribution => ({
                                    uri: attribution.web?.uri,
                                    title: attribution.web?.title,
                                }))
                                .filter(source => source.uri && source.title); // Ch·ªâ l·∫•y ngu·ªìn h·ª£p l·ªá
                        }

                        // Hi·ªÉn th·ªã k·∫øt qu·∫£
                        outputText.innerHTML = text.replace(/\n/g, '<br>');
                        
                        if (sources.length > 0) {
                            const sourceHtml = '<strong>Ngu·ªìn tham kh·∫£o:</strong><ul class="list-disc ml-5 mt-2 space-y-1">' + 
                                sources.map(s => `<li><a href="${s.uri}" target="_blank" class="text-blue-600 hover:text-blue-800">${s.title}</a></li>`).join('') +
                                '</ul>';
                            outputSources.innerHTML = sourceHtml;
                        } else {
                            outputSources.innerHTML = 'Ngu·ªìn: Ph·∫£n h·ªìi d·ª±a tr√™n ki·∫øn th·ª©c chung c·ªßa m√¥ h√¨nh.';
                        }

                    } else {
                        // X·ª≠ l√Ω tr∆∞·ªùng h·ª£p kh√¥ng c√≥ n·ªôi dung ƒë∆∞·ª£c t·∫°o
                        console.error('L·ªói API: Kh√¥ng t√¨m th·∫•y n·ªôi dung ph·∫£n h·ªìi h·ª£p l·ªá.', result);
                        outputText.textContent = "Xin l·ªói, AI kh√¥ng th·ªÉ t·∫°o ra l·ªùi khuy√™n cho y√™u c·∫ßu n√†y. Vui l√≤ng th·ª≠ l·∫°i v·ªõi m·ªôt c√¢u h·ªèi kh√°c.";
                        outputSources.textContent = '';
                    }

                } catch (error) {
                    console.error("L·ªói g·ªçi API:", error);
                    outputText.textContent = `Xin l·ªói, ƒë√£ x·∫£y ra l·ªói trong qu√° tr√¨nh k·∫øt n·ªëi: ${error.message}.`;
                    outputSources.textContent = '';
                } finally {
                    // K·∫øt th√∫c tr·∫°ng th√°i t·∫£i
                    button.disabled = false;
                    spinner.classList.add('hidden');
                    buttonText.textContent = 'Nh·∫≠n T∆∞ V·∫•n';
                }
            };

            if (button) {
                button.addEventListener('click', handleAdviceRequest);
            }
        });

    </script>
</body>
</html>
