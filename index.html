<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ª®ng d·ª•ng T∆∞∆°ng t√°c: √î nhi·ªÖm Kh√¥ng kh√≠</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #eaf4f7;
            color: #333;
        }
        .nav-button {
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            color: #71a6b7;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .nav-button:hover {
            background-color: #f7f3e9;
            color: #5a8a9a;
        }
        .nav-button.active {
            background-color: #71a6b7;
            color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1-2px rgba(0, 0, 0, 0.06);
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border: 1px solid #bfe0e9;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        .chart-container-bar {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 500px;
        }
        .aqi-item {
            display: flex;
            align-items: center;
            padding: 0.75rem;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }
        .llm-button {
            transition: all 0.2s;
            cursor: pointer;
        }
        .llm-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .llm-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        .spinner {
            width: 2rem;
            height: 2rem;
            border: 4px solid #f7f3e9;
            border-top: 4px solid #71a6b7;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .advice-output {
            background-color: #f7f3e9;
            border: 1px solid #a4d2df;
            border-radius: 0.5rem;
            padding: 1rem;
        }
        .project-heading {
            border-left: 5px solid #71a6b7;
            padding-left: 1rem;
        }
    </style>
</head>
<body class="antialiased">

    <div class="min-h-screen">
        <header class="bg-white shadow-sm sticky top-0 z-10 border-b border-bfe0e9">
            <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center">
                <h1 class="text-2xl font-bold text-71a6b7">Ph√¢n t√≠ch: √î nhi·ªÖm Kh√¥ng kh√≠</h1>
                <nav id="mainNav" class="flex flex-wrap justify-center space-x-2 mt-4 md:mt-0">
                    <button class="nav-button active" data-page="project10a4">D·ª± √°n 10A4 üî¨</button>
                    <button class="nav-button" data-page="overview">T·ªïng quan</button>
                    <button class="nav-button" data-page="sources">Ngu·ªìn & Ch·∫•t √¥ nhi·ªÖm</button>
                    <button class="nav-button" data-page="impact">T√°c ƒë·ªông</button>
                    <button class="nav-button" data-page="solutions">Gi·∫£i ph√°p</button>
                    <button class="nav-button" data-page="ai-advisor">AI T∆∞ V·∫•n ‚ú®</button>
                </nav>
            </div>
        </header>

        <main id="appContent" class="container mx-auto p-4 md:p-8">

            <section id="page-project10a4" class="content-section active">
                <div class="card max-w-4xl mx-auto">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4 border-b pb-2">D·ª± √°n Th·ª≠ nghi·ªám 10A4: Gi·ªõi thi·ªáu ƒê·ªÅ t√†i</h2>
                    
                    <!-- N·ªòI DUNG T·ª™ TEXT.TXT ƒê∆Ø·ª¢C CH√àN V√ÄO ƒê√ÇY -->
                    
                    <div class="mb-4">
                        <p class="text-lg text-gray-800"><span class="font-semibold">T√™n h·ªçc sinh:</span> B√πi Tr∆∞·ªùng Giang</p>
                        <p class="text-lg text-gray-800"><span class="font-semibold">Lƒ©nh v·ª±c:</span> Khoa h·ªçc t·ª± nhi√™n</p>
                    </div>

                    <h3 class="text-xl font-bold text-gray-800 mt-6">T√™n ƒê·ªÅ t√†i</h3>
                    <p class="text-lg text-gray-700 mt-1 mb-4 p-3 bg-f7f3e9 rounded-md border border-a4d2df">V·∫•n ƒë·ªÅ √¥ nhi·ªÖm kh√¥ng kh√≠, gi·∫£i ph√°p kh·∫Øc ph·ª•c, v√† s·ª≠ d·ª•ng tr√≠ tu·ªá nh√¢n t·∫°o ƒë·ªÉ gi√∫p con ng∆∞·ªùi ƒë·ªÅ ph√≤ng c√°c t√°c nh√¢n g√¢y b·ªánh</p>
                    
                    <h3 class="text-xl font-bold text-gray-800 mt-6">1. B·ªëi c·∫£nh v√† T√≠nh c·∫•p thi·∫øt c·ªßa V·∫•n ƒë·ªÅ</h3>
                    <p class="text-gray-700 mt-2">Trong nh·ªØng nƒÉm g·∫ßn ƒë√¢y, √¥ nhi·ªÖm kh√¥ng kh√≠ ƒë√£ tr·ªü th√†nh m·ªôt trong nh·ªØng th√°ch th·ª©c m√¥i tr∆∞·ªùng v√† s·ª©c kh·ªèe c·ªông ƒë·ªìng nghi√™m tr·ªçng nh·∫•t t·∫°i c√°c ƒë√¥ th·ªã l·ªõn ·ªü Vi·ªát Nam. ƒê·∫∑c bi·ªát, n·ªìng ƒë·ªô b·ª•i m·ªãn <span class="font-bold">PM‚ÇÇ.‚ÇÖ</span> th∆∞·ªùng xuy√™n v∆∞·ª£t ng∆∞·ª°ng an to√†n, g√¢y ra nguy c∆° cao v·ªÅ c√°c b·ªánh l√Ω h√¥ h·∫•p v√† tim m·∫°ch cho ng∆∞·ªùi d√¢n.</p>
                    
                    <p class="font-semibold text-gray-700 mt-4 mb-2">T√≠nh c·∫•p thi·∫øt c·ªßa ƒë·ªÅ t√†i xu·∫•t ph√°t t·ª´ ba kh√≠a c·∫°nh:</p>
                    <ul class="list-disc list-inside ml-4 text-gray-700 space-y-2">
                        <li><span class="font-semibold text-71a6b7">M√¥i tr∆∞·ªùng:</span> C·∫ßn m·ªôt gi·∫£i ph√°p k·ªπ thu·∫≠t hi·ªáu qu·∫£ ƒë·ªÉ gi·∫£m thi·ªÉu c√°c ch·∫•t √¥ nhi·ªÖm t·∫°i ngu·ªìn ho·∫∑c x·ª≠ l√Ω t·∫°i khu v·ª±c nh·∫°y c·∫£m (nh∆∞ tr∆∞·ªùng h·ªçc, b·ªánh vi·ªán).</li>
                        <li><span class="font-semibold text-71a6b7">S·ª©c kh·ªèe:</span> Ng∆∞·ªùi d√¢n thi·∫øu c√¥ng c·ª• nhanh ch√≥ng, c√° nh√¢n h√≥a ƒë·ªÉ bi·∫øt c√°ch t·ª± b·∫£o v·ªá m√¨nh tr∆∞·ªõc t√¨nh tr·∫°ng √¥ nhi·ªÖm kh√¥ng ·ªïn ƒë·ªãnh t·ª´ng ng√†y.</li>
                        <li><span class="font-semibold text-71a6b7">C√¥ng ngh·ªá:</span> S·ª± ph√°t tri·ªÉn c·ªßa Tr√≠ tu·ªá Nh√¢n t·∫°o (AI) m·ªü ra c∆° h·ªôi ƒë·ªÉ chuy·ªÉn ƒë·ªïi d·ªØ li·ªáu m√¥i tr∆∞·ªùng ph·ª©c t·∫°p th√†nh c√°c h√†nh ƒë·ªông ph√≤ng ng·ª´a ƒë∆°n gi·∫£n, k·ªãp th·ªùi cho ng∆∞·ªùi d√πng.</li>
                    </ul>
                    
                    <h3 class="text-xl font-bold text-gray-800 mt-6">2. M·ª•c ti√™u Nghi√™n c·ª©u</h3>
                    <p class="text-gray-700 mt-2">ƒê·ªÅ t√†i ƒë∆∞·ª£c th·ª±c hi·ªán nh·∫±m ƒë·∫°t ƒë∆∞·ª£c c√°c m·ª•c ti√™u li√™n ng√†nh sau:</p>
                    
                    <h4 class="font-semibold text-gray-800 mt-3 ml-2">2.1. M·ª•c ti√™u Nghi√™n c·ª©u v√† Ph√¢n t√≠ch (M√¥i tr∆∞·ªùng)</h4>
                    <ul class="list-disc list-inside ml-6 text-gray-700 space-y-1">
                        <li>Ph√¢n t√≠ch c√°c ngu·ªìn g√¢y √¥ nhi·ªÖm kh√¥ng kh√≠ ch√≠nh t·∫°i c√°c khu v·ª±c.</li>
                        <li>ƒê·ªÅ xu·∫•t v√† ƒë√°nh gi√° m·ªôt gi·∫£i ph√°p kh·∫Øc ph·ª•c (k·ªπ thu·∫≠t ho·∫∑c ch√≠nh s√°ch) c√≥ t√≠nh kh·∫£ thi cao trong m√¥i tr∆∞·ªùng th·ª±c ti·ªÖn.</li>
                    </ul>

                    <h4 class="font-semibold text-gray-800 mt-3 ml-2">2.2. M·ª•c ti√™u ·ª®ng d·ª•ng C√¥ng ngh·ªá (AI & S·ª©c kh·ªèe)</h4>
                    <ul class="list-disc list-inside ml-6 text-gray-700 space-y-1">
                        <li>X√¢y d·ª±ng m·ªôt m√¥ h√¨nh ho·∫∑c ·ª©ng d·ª•ng d·ª±a tr√™n Tr√≠ tu·ªá Nh√¢n t·∫°o.</li>
                        <li>M√¥ h√¨nh n√†y c√≥ kh·∫£ nƒÉng thu th·∫≠p d·ªØ li·ªáu AQI (Ch·ªâ s·ªë Ch·∫•t l∆∞·ª£ng Kh√¥ng kh√≠) theo th·ªùi gian th·ª±c v√† ƒë∆∞a ra l·ªùi khuy√™n c√° nh√¢n h√≥a v·ªÅ c√°c bi·ªán ph√°p ph√≤ng ng·ª´a.</li>
                        <li>V√≠ d·ª• v·ªÅ l·ªùi khuy√™n: N√™n ƒëeo kh·∫©u trang lo·∫°i n√†o (N95/y t·∫ø), c√≥ n√™n ch·∫°y b·ªô ngo√†i tr·ªùi kh√¥ng, n√™n m·ªü hay ƒë√≥ng c·ª≠a s·ªï.</li>
                    </ul>
                    
                    <h3 class="text-xl font-bold text-gray-800 mt-6">3. Ph·∫°m vi Nghi√™n c·ª©u</h3>
                    <ul class="list-disc list-inside ml-4 text-gray-700 space-y-2">
                        <li><span class="font-semibold text-71a6b7">Ph·∫°m vi Kh√¥ng gian:</span> Nghi√™n c·ª©u s·∫Ω t·∫≠p trung v√†o d·ªØ li·ªáu √¥ nhi·ªÖm kh√¥ng kh√≠ t·∫°i Vi·ªát Nam.</li>
                        <li><span class="font-semibold text-71a6b7">Ph·∫°m vi N·ªôi dung:</span>
                            <ul class="list-circle list-inside ml-4 text-gray-700 space-y-1 mt-1">
                                <li>T·∫≠p trung ch·ªß y·∫øu v√†o c√°c ch·∫•t √¥ nhi·ªÖm c√≥ t√°c ƒë·ªông m·∫°nh nh·∫•t ƒë·∫øn s·ª©c kh·ªèe: B·ª•i m·ªãn (PM‚ÇÇ.‚ÇÖ), Ozone (O‚ÇÉ), v√† Sulfur Dioxide (SO‚ÇÇ).</li>
                                <li>Ph·∫ßn ·ª©ng d·ª•ng AI t·∫≠p trung v√†o vi·ªác d·ª± ƒëo√°n nguy c∆° s·ª©c kh·ªèe d·ª±a tr√™n d·ªØ li·ªáu √¥ nhi·ªÖm, kh√¥ng ƒëi s√¢u v√†o vi·ªác ph√°t tri·ªÉn thu·∫≠t to√°n AI n·ªÅn t·∫£ng.</li>
                            </ul>
                        </li>
                    </ul>

                    <h3 class="text-xl font-bold text-gray-800 mt-6">4. √ù nghƒ©a Khoa h·ªçc v√† Th·ª±c ti·ªÖn</h3>
                    <ul class="list-disc list-inside ml-4 text-gray-700 space-y-2">
                        <li><span class="font-semibold text-71a6b7">V·ªÅ m·∫∑t Khoa h·ªçc:</span> Ch·ª©ng minh t√≠nh hi·ªáu qu·∫£ c·ªßa c√°ch ti·∫øp c·∫≠n li√™n ng√†nh (k·ªπ thu·∫≠t m√¥i tr∆∞·ªùng + khoa h·ªçc d·ªØ li·ªáu) trong vi·ªác gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ x√£ h·ªôi.</li>
                        <li><span class="font-semibold text-71a6b7">V·ªÅ m·∫∑t Th·ª±c ti·ªÖn:</span> Cung c·∫•p m·ªôt c√¥ng c·ª• ƒë∆°n gi·∫£n, d·ªÖ s·ª≠ d·ª•ng cho c·ªông ƒë·ªìng ƒë·ªÉ ch·ªß ƒë·ªông b·∫£o v·ªá s·ª©c kh·ªèe, t·ª´ ƒë√≥ n√¢ng cao nh·∫≠n th·ª©c v·ªÅ ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠ v√† th√∫c ƒë·∫©y h√†nh ƒë·ªông t·∫≠p th·ªÉ.</li>
                    </ul>
                    <!-- K·∫æT TH√öC N·ªòI DUNG T·ª™ TEXT.TXT -->
                    
                </div>
            </section>
            
            <!-- Ph·∫ßn 'T·ªïng quan' ƒë√£ b·ªã lo·∫°i b·ªè class 'active' -->
            <section id="page-overview" class="content-section">
                <div class="card text-center">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4">M·ªôt V·∫•n N·∫°n To√†n C·∫ßu</h2>
                    
                    <div class="flex justify-center items-center gap-4 mb-4 max-w-3xl mx-auto">
                        <p id="tts-text-overview" class="text-lg text-gray-700 text-left flex-grow">Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi ·ª©ng d·ª•ng ph√¢n t√≠ch t∆∞∆°ng t√°c v·ªÅ √¥ nhi·ªÖm kh√¥ng kh√≠. Ph·∫ßn n√†y cung c·∫•p m·ªôt c√°i nh√¨n t·ªïng quan v·ªÅ m·ª©c ƒë·ªô nghi√™m tr·ªçng c·ªßa v·∫•n ƒë·ªÅ, nh·∫•n m·∫°nh t√°c ƒë·ªông to√†n c·∫ßu c·ªßa n√≥. H√£y s·ª≠ d·ª•ng c√°c tab ƒëi·ªÅu h∆∞·ªõng ·ªü tr√™n ƒë·ªÉ kh√°m ph√° c√°c ngu·ªìn g√¢y √¥ nhi·ªÖm, t√°c ƒë·ªông c·ª• th·ªÉ v√† c√°c gi·∫£i ph√°p kh·∫£ thi.</p>
                    </div>
                    
                    <div class="bg-f7f3e9 p-6 rounded-lg inline-block border border-a4d2df">
                        <div class="text-6xl md:text-8xl font-bold text-71a6b7">7 TRI·ªÜU</div>
                        <div class="text-xl md:text-2xl font-semibold text-gray-800 mt-2">Ng∆∞·ªùi t·ª≠ vong s·ªõm m·ªói nƒÉm</div>
                        <p class="text-md text-gray-600 mt-2">(Theo T·ªï ch·ª©c Y t·∫ø Th·∫ø gi·ªõi - WHO)</p>
                    </div>
                    
                    <p class="text-lg text-gray-700 mt-8 max-w-3xl mx-auto">√î nhi·ªÖm kh√¥ng kh√≠ l√† s·ª± thay ƒë·ªïi l·ªõn trong th√†nh ph·∫ßn c·ªßa kh√¥ng kh√≠, ch·ªß y·∫øu do kh√≥i, b·ª•i, h∆°i ho·∫∑c c√°c kh√≠ l·∫° ƒë∆∞·ª£c ƒë∆∞a v√†o kh√¥ng kh√≠, g√¢y ·∫£nh h∆∞·ªüng ti√™u c·ª±c ƒë·∫øn s·ª©c kh·ªèe con ng∆∞·ªùi v√† h·ªá sinh th√°i.</p>
                </div>
            </section>

            <section id="page-sources" class="content-section">
                <div class="card mb-8">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4 text-center">Ngu·ªìn G·ªëc & Ch·ªâ s·ªë ƒêo l∆∞·ªùng</h2>
                    <p class="text-lg text-gray-700 mb-8 max-w-4xl mx-auto text-center">ƒê·ªÉ hi·ªÉu r√µ v·ªÅ √¥ nhi·ªÖm, ch√∫ng ta c·∫ßn x√°c ƒë·ªãnh c√°c ngu·ªìn ph√°t th·∫£i ch√≠nh v√† c√°ch ch√∫ng ta ƒëo l∆∞·ªùng ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠. Ph·∫ßn n√†y tr√¨nh b√†y tr·ª±c quan c√°c ngu·ªìn g√¢y √¥ nhi·ªÖm nh√¢n t·∫°o v√† gi·∫£i th√≠ch Ch·ªâ s·ªë Ch·∫•t l∆∞·ª£ng Kh√¥ng kh√≠ (AQI), sau ƒë√≥ so s√°nh n·ªìng ƒë·ªô b·ª•i m·ªãn PM‚ÇÇ.‚ÇÖ t·∫°i c√°c th√†nh ph·ªë l·ªõn.</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="card">
                        <h3 class="text-xl font-semibold text-center text-71a6b7 mb-4">Gi·∫£i th√≠ch Ch·ªâ s·ªë Ch·∫•t l∆∞·ª£ng Kh√¥ng kh√≠ (AQI)</h3>
                        <p class="text-center text-gray-600 mb-6">AQI l√† thang ƒëo m·ª©c ƒë·ªô √¥ nhi·ªÖm kh√¥ng kh√≠. M·ªói kho·∫£ng gi√° tr·ªã t∆∞∆°ng ·ª©ng v·ªõi m·ªôt m·ª©c ƒë·ªô c·∫£nh b√°o s·ª©c kh·ªèe v√† m·ªôt m√†u s·∫Øc c·ª• th·ªÉ.</p>
                        <ul class="space-y-3">
                            <li class="aqi-item bg-green-100 text-green-900">
                                <span class="w-16 font-bold text-lg">0-50</span>
                                <span class="w-5 h-5 rounded-full bg-green-500 mx-4 flex-shrink-0"></span>
                                <span class="flex-grow">T·ªët</span>
                            </li>
                            <li class="aqi-item bg-yellow-100 text-yellow-900">
                                <span class="w-16 font-bold text-lg">51-100</span>
                                <span class="w-5 h-5 rounded-full bg-yellow-500 mx-4 flex-shrink-0"></span>
                                <span class="flex-grow">Trung b√¨nh</span>
                            </li>
                            <li class="aqi-item bg-orange-100 text-orange-900">
                                <span class="w-16 font-bold text-lg">101-150</span>
                                <span class="w-5 h-5 rounded-full bg-orange-500 mx-4 flex-shrink-0"></span>
                                <span class="flex-grow">K√©m (Nh√≥m nh·∫°y c·∫£m c·∫ßn l∆∞u √Ω)</span>
                            </li>
                            <li class="aqi-item bg-red-100 text-red-900">
                                <span class="w-16 font-bold text-lg">151-200</span>
                                <span class="w-5 h-5 rounded-full bg-red-600 mx-4 flex-shrink-0"></span>
                                <span class="flex-grow">X·∫•u (C√≥ h·∫°i cho s·ª©c kh·ªèe)</span>
                            </li>
                            <li class="aqi-item bg-purple-100 text-purple-900">
                                <span class="w-16 font-bold text-lg">201-300</span>
                                <span class="w-5 h-5 rounded-full bg-purple-700 mx-4 flex-shrink-0"></span>
                                <span class="flex-grow">R·∫•t x·∫•u (R·∫•t c√≥ h·∫°i)</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="card">
                        <h3 class="text-xl font-semibold text-center text-71a6b7 mb-4">Ngu·ªìn √î nhi·ªÖm Nh√¢n t·∫°o Ch√≠nh</h3>
                        <p class="text-center text-gray-600 mb-6">Bi·ªÉu ƒë·ªì n√†y minh h·ªça t·ª∑ tr·ªçng c√°c ho·∫°t ƒë·ªông c·ªßa con ng∆∞·ªùi g√≥p ph·∫ßn v√†o √¥ nhi·ªÖm kh√¥ng kh√≠ to√†n c·∫ßu. Di chu·ªôt qua t·ª´ng ph·∫ßn ƒë·ªÉ xem chi ti·∫øt.</p>
                        <div class="chart-container">
                            <canvas id="sourcesChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="card mt-8">
                    <h3 class="text-xl font-semibold text-center text-71a6b7 mb-4">C√°c Ch·∫•t √î nhi·ªÖm Kh√¥ng kh√≠ Ph·ªï bi·∫øn</h3>
                    <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">Kh√¥ng kh√≠ √¥ nhi·ªÖm l√† m·ªôt h·ªón h·ª£p ph·ª©c t·∫°p. D∆∞·ªõi ƒë√¢y l√† c√°c ch·∫•t √¥ nhi·ªÖm ch√≠nh th∆∞·ªùng ƒë∆∞·ª£c theo d√µi v√¨ t√°c ƒë·ªông tr·ª±c ti·∫øp c·ªßa ch√∫ng ƒë·∫øn s·ª©c kh·ªèe v√† m√¥i tr∆∞·ªùng.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">B·ª•i M·ªãn (PM‚ÇÇ.‚ÇÖ & PM10)</h4>
                            <p class="text-gray-700 mt-1">C√°c h·∫°t r·∫Øn ho·∫∑c l·ªèng si√™u nh·ªè l∆° l·ª≠ng, c√≥ kh·∫£ nƒÉng x√¢m nh·∫≠p s√¢u v√†o ph·ªïi v√† m√°u. Ngu·ªìn g·ªëc: ƒë·ªët nhi√™n li·ªáu, x√¢y d·ª±ng, c√¥ng nghi·ªáp.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">Ozone T·∫ßng M·∫∑t (O‚ÇÉ)</h4>
                            <p class="text-gray-700 mt-1">Ch·∫•t √¥ nhi·ªÖm th·ª© c·∫•p, h√¨nh th√†nh khi NO‚Çì v√† VOCs ph·∫£n ·ª©ng v·ªõi √°nh s√°ng m·∫∑t tr·ªùi. L√† th√†nh ph·∫ßn ch√≠nh c·ªßa s∆∞∆°ng m√π quang h√≥a.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">Sulfur Dioxide (SO‚ÇÇ)</h4>
                            <p class="text-gray-700 mt-1">Ph√°t th·∫£i t·ª´ vi·ªác ƒë·ªët nhi√™n li·ªáu h√≥a th·∫°ch (nh∆∞ than) trong c√°c nh√† m√°y ƒëi·ªán v√† c√¥ng nghi·ªáp. G√¢y m∆∞a axit.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">Oxide c·ªßa Ni-t∆° (NO‚Çì)</h4>
                            <p class="text-gray-700 mt-1">Sinh ra t·ª´ qu√° tr√¨nh ƒë·ªët nhi·ªát ƒë·ªô cao, ch·ªß y·∫øu t·ª´ kh√≠ th·∫£i xe c·ªô v√† nh√† m√°y ƒëi·ªán. G√≥p ph·∫ßn t·∫°o ra O‚ÇÉ v√† m∆∞a axit.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">Carbon Monoxide (CO)</h4>
                            <p class="text-gray-700 mt-1">Kh√≠ ƒë·ªôc kh√¥ng m√†u, kh√¥ng m√πi, sinh ra t·ª´ vi·ªác ƒë·ªët ch√°y kh√¥ng ho√†n to√†n nhi√™n li·ªáu, ƒë·∫∑c bi·ªát l√† t·ª´ ph∆∞∆°ng ti·ªán giao th√¥ng.</p>
                        </div>
                        <div class="p-4 bg-f7f3e9 rounded-lg border border-a4d2df">
                            <h4 class="font-bold text-lg text-71a6b7">H·ª£p ch·∫•t h·ªØu c∆° (VOCs)</h4>
                            <p class="text-gray-700 mt-1">Bay h∆°i t·ª´ s∆°n, dung m√¥i, v√† nhi√™n li·ªáu. Ch√∫ng l√† ti·ªÅn ch·∫•t quan tr·ªçng h√¨nh th√†nh Ozone (O‚ÇÉ) t·∫ßng m·∫∑t.</p>
                        </div>
                    </div>
                </div>

                <div class="card mt-8">
                    <h3 class="text-xl font-semibold text-center text-71a6b7 mb-4">So s√°nh N·ªìng ƒë·ªô B·ª•i m·ªãn PM‚ÇÇ.‚ÇÖ</h3>
                    <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">PM‚ÇÇ.‚ÇÖ l√† c√°c h·∫°t b·ª•i si√™u m·ªãn, c·ª±c k·ª≥ nguy hi·ªÉm v√¨ ch√∫ng c√≥ th·ªÉ ƒëi s√¢u v√†o ph·ªïi v√† m√°u. Bi·ªÉu ƒë·ªì n√†y so s√°nh n·ªìng ƒë·ªô PM‚ÇÇ.‚ÇÖ trung b√¨nh nƒÉm (¬µg/m¬≥) t·∫°i m·ªôt s·ªë th√†nh ph·ªë (s·ªë li·ªáu minh h·ªça).</p>
                    <div class="chart-container-bar">
                        <canvas id="citiesChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="page-impact" class="content-section">
                <div class="card">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4 text-center">T√°c ƒë·ªông ƒêa Chi·ªÅu C·ªßa √î nhi·ªÖm</h2>
                    <p class="text-lg text-gray-700 mb-8 max-w-4xl mx-auto text-center">√î nhi·ªÖm kh√¥ng kh√≠ kh√¥ng ch·ªâ l√† m·ªôt con s·ªë; n√≥ c√≥ nh·ªØng h·∫≠u qu·∫£ th·ª±c t·∫ø v√† nghi√™m tr·ªçng. Ph·∫ßn n√†y tr√¨nh b√†y s∆° ƒë·ªì lu·ªìng ƒë∆°n gi·∫£n h√≥a, cho th·∫•y c√°c ch·∫•t √¥ nhi·ªÖm ch√≠nh d·∫´n ƒë·∫øn c√°c t√°c ƒë·ªông ti√™u c·ª±c l√™n c·∫£ s·ª©c kh·ªèe con ng∆∞·ªùi v√† m√¥i tr∆∞·ªùng t·ª± nhi√™n.</p>
                    
                    <div class="flex flex-col items-center space-y-6">
                        <div class="p-4 bg-f7f3e9 rounded-lg shadow-md border border-a4d2df text-center">
                            <h3 class="text-xl font-bold text-71a6b7">NGU·ªíN G·ªêC</h3>
                            <p class="text-gray-800">ƒê·ªët nhi√™n li·ªáu h√≥a th·∫°ch, C√¥ng nghi·ªáp, Giao th√¥ng</p>
                        </div>
                        
                        <div class="text-4xl font-light text-71a6b7">‚Üì</div>

                        <div class="p-4 bg-white rounded-lg shadow border border-bfe0e9 text-center">
                            <h3 class="text-lg font-semibold text-gray-800">Ch·∫•t √¥ nhi·ªÖm ch√≠nh</h3>
                            <p class="text-gray-600">PM‚ÇÇ.‚ÇÖ, SO‚ÇÇ, NO‚Çì, O‚ÇÉ</p>
                        </div>

                        <div class="text-4xl font-light text-71a6b7">‚Üì</div>
                        
                        <div class="w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-6 text-center">
                            <div class="p-4 bg-bfe0e9 rounded-lg shadow-inner">
                                <h3 class="text-xl font-bold text-71a6b7">T√ÅC ƒê·ªòNG S·ª®C KH·ªé·∫∫</h3>
                                <ul class="list-disc list-inside text-left mt-3 text-gray-800 space-y-2 p-3">
                                    <li>B·ªánh h√¥ h·∫•p (hen suy·ªÖn, vi√™m ph·∫ø qu·∫£n)</li>
                                    <li>B·ªánh tim m·∫°ch (ƒëau tim, ƒë·ªôt qu·ªµ)</li>
                                    <li>·∫¢nh h∆∞·ªüng h·ªá th·∫ßn kinh</li>
                                    <li>TƒÉng nguy c∆° ung th∆∞ ph·ªïi</li>
                                </ul>
                            </div>
                            
                            <div class="p-4 bg-f7f3e9 rounded-lg shadow-inner border border-a4d2df">
                                <h3 class="text-xl font-bold text-71a6b7">T√ÅC ƒê·ªòNG M√îI TR∆Ø·ªúNG</h3>
                                <ul class="list-disc list-inside text-left mt-3 text-gray-800 space-y-2 p-3">
                                    <li>M∆∞a axit (ph√° h·ªßy r·ª´ng v√† ngu·ªìn n∆∞·ªõc)</li>
                                    <li>Hi·ªáu ·ª©ng nh√† k√≠nh (bi·∫øn ƒë·ªïi kh√≠ h·∫≠u)</li>
                                    <li>Ph√° h·ªßy t·∫ßng Ozone (do CFCs)</li>
                                    <li>Gi·∫£m ƒëa d·∫°ng sinh h·ªçc</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="page-solutions" class="content-section">
                <div class="card">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4 text-center">C√°c Gi·∫£i Ph√°p K·ªπ Thu·∫≠t v√† Ch√≠nh S√°ch</h2>
                    <p class="text-lg text-gray-700 mb-8 max-w-4xl mx-auto text-center">Ph·∫ßn n√†y ƒëi s√¢u v√†o c√°c chi·∫øn l∆∞·ª£c k·ªπ thu·∫≠t v√† ch√≠nh s√°ch vƒ© m√¥ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ki·ªÉm so√°t √¥ nhi·ªÖm kh√¥ng kh√≠, t·ª´ vi·ªác gi·∫£m ph√°t th·∫£i t·∫°i ngu·ªìn cho ƒë·∫øn c√¥ng ngh·ªá l·ªçc kh√¥ng kh√≠ ti√™n ti·∫øn.</p>

                    <!-- 4.1. Gi·∫£i ph√°p ki·ªÉm so√°t ngu·ªìn th·∫£i quy m√¥ l·ªõn -->
                    <div class="mb-10 p-6 bg-f7f3e9 rounded-lg border border-a4d2df">
                        <h3 class="text-2xl font-bold text-71a6b7 mb-4">4.1. Ki·ªÉm so√°t Ngu·ªìn Ph√°t th·∫£i Quy m√¥ l·ªõn</h3>
                        
                        <!-- 4.1.1. Ti√™u chu·∫©n Kh√≠ th·∫£i Ph∆∞∆°ng ti·ªán Giao th√¥ng -->
                        <h4 class="text-xl font-semibold text-gray-800 mt-6 mb-2">4.1.1. Ti√™u chu·∫©n Kh√≠ th·∫£i Ph∆∞∆°ng ti·ªán Giao th√¥ng</h4>
                        <p class="text-gray-700 mb-4">Vi·ªác √°p d·ª•ng c√°c ti√™u chu·∫©n kh√≠ th·∫£i nghi√™m ng·∫∑t (v√≠ d·ª•: Euro 5) l√† gi·∫£i ph√°p k·ªπ thu·∫≠t c·ªët l√µi. Ti√™u chu·∫©n Euro 5 ƒë·∫∑t ra gi·ªõi h·∫°n nghi√™m ng·∫∑t:</p>
                        <ul class="list-disc list-inside ml-4 text-gray-700 space-y-1">
                            <li>Kh√≠ th·∫£i PM t·ª´ xe diesel: Gi·∫£m xu·ªëng c√≤n <span class="font-mono">0.005 g/km</span>, t∆∞∆°ng ƒë∆∞∆°ng gi·∫£m <span class="font-mono">80%</span> so v·ªõi Euro 4.</li>
                            <li>Kh√≠ th·∫£i NO‚Çì t·ª´ ƒë·ªông c∆° diesel: Gi·ªõi h·∫°n <span class="font-mono">0.18 g/km</span>.</li>
                        </ul>
                        <p class="text-sm text-gray-600 mt-3 italic">Vi·ªác gi·∫£m thi·ªÉu c√°c ch·∫•t ti·ªÅn ch·∫•t √¥ nhi·ªÖm n√†y ƒë√≥ng vai tr√≤ quan tr·ªçng trong vi·ªác ki·ªÉm so√°t s·ª± h√¨nh th√†nh PM‚ÇÇ.‚ÇÖ v√† s∆∞∆°ng m√π quang h√≥a (do NO‚Çì l√† ti·ªÅn ch·∫•t c·ªßa O‚ÇÉ).</p>

                        <!-- 4.1.2. Ph√°t tri·ªÉn NƒÉng l∆∞·ª£ng T√°i t·∫°o (NLTT) -->
                        <h4 class="text-xl font-semibold text-gray-800 mt-6 mb-2">4.1.2. Ph√°t tri·ªÉn NƒÉng l∆∞·ª£ng T√°i t·∫°o (NLTT)</h4>
                        <p class="text-gray-700">ƒê·∫ßu t∆∞ v√† chuy·ªÉn ƒë·ªïi sang c√°c ngu·ªìn nƒÉng l∆∞·ª£ng t√°i t·∫°o l√† gi·∫£i ph√°p chi·∫øn l∆∞·ª£c ƒë·ªÉ gi·∫£i quy·∫øt √¥ nhi·ªÖm kh√¥ng kh√≠ t·∫°i ngu·ªìn. NLTT gi√∫p gi·∫£m ph√°t th·∫£i c√°c ch·∫•t h·∫°t, NO‚Çì, v√† SO‚ÇÇ t·ª´ c√°c nh√† m√°y ƒëi·ªán truy·ªÅn th·ªëng, th·ªÉ hi·ªán nguy√™n t·∫Øc k·ªπ thu·∫≠t m√¥i tr∆∞·ªùng: ki·ªÉm so√°t √¥ nhi·ªÖm b·ªÅn v·ªØng nh·∫•t l√† lo·∫°i b·ªè ngu·ªìn ph√°t th·∫£i ngay t·ª´ ƒë·∫ßu.</p>
                    </div>

                    <!-- 4.2. C√¥ng ngh·ªá x·ª≠ l√Ω v√† l·ªçc kh√¥ng kh√≠ -->
                    <div class="p-6 bg-bfe0e9 rounded-lg">
                        <h3 class="text-2xl font-bold text-71a6b7 mb-4">4.2. C√¥ng ngh·ªá X·ª≠ l√Ω v√† L·ªçc Kh√¥ng kh√≠</h3>
                        <p class="text-lg text-gray-700 mb-4">C√¥ng ngh·ªá l·ªçc kh√¥ng kh√≠ ƒë√≥ng vai tr√≤ quan tr·ªçng trong vi·ªác b·∫£o v·ªá s·ª©c kh·ªèe con ng∆∞·ªùi, ƒë·∫∑c bi·ªát trong nh√† v√† m√¥i tr∆∞·ªùng nh·∫°y c·∫£m.</p>

                        <!-- 4.2.1. M√†ng l·ªçc HEPA -->
                        <h4 class="text-xl font-semibold text-gray-800 mt-4 mb-2">4.2.1. M√†ng l·ªçc HEPA (High Efficiency Particulate Air)</h4>
                        <p class="text-gray-700">Ti√™u chu·∫©n k·ªπ thu·∫≠t quy ƒë·ªãnh m√†ng l·ªçc HEPA ph·∫£i gi·ªØ l·∫°i √≠t nh·∫•t <span class="font-mono">99.9%</span> nh·ªØng h·∫°t c√≥ ƒë∆∞·ªùng k√≠nh ‚â• <span class="font-mono">0.3 ¬µm</span> (PM‚ÇÄ.‚ÇÉ), ƒë·∫£m b·∫£o hi·ªáu su·∫•t l·ªçc cao ƒë·ªëi v·ªõi b·ª•i m·ªãn PM‚ÇÇ.‚ÇÖ.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-3">
                            <div class="p-3 bg-white rounded-md shadow">
                                <p class="font-bold text-red-600">H·∫°n ch·∫ø K·ªπ thu·∫≠t & M√¥i tr∆∞·ªùng:</p>
                                <ul class="list-disc list-inside ml-4 text-gray-700 text-sm space-y-1 mt-1">
                                    <li>L·ªçc hi·ªáu qu·∫£ b·ª•i m·ªãn nh∆∞ng kh√¥ng l·ªçc ƒë∆∞·ª£c kh√≠ (v√≠ d·ª•: O‚ÇÉ, CO).</li>
                                    <li>Ti√™u t·ªën nƒÉng l∆∞·ª£ng ƒëi·ªán.</li>
                                </ul>
                            </div>
                            <div class="p-3 bg-white rounded-md shadow">
                                <p class="font-bold text-green-600">∆Øu ƒëi·ªÉm K·ªπ thu·∫≠t:</p>
                                <ul class="list-disc list-inside ml-4 text-gray-700 text-sm space-y-1 mt-1">
                                    <li>Hi·ªáu su·∫•t cao ƒë·ªëi v·ªõi h·∫°t l∆° l·ª≠ng (&gt;99.9%).</li>
                                    <li>ƒê·ªô b·ªÅn v√† t√≠nh ·ªïn ƒë·ªãnh cao.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="page-ai-advisor" class="content-section">
                <div class="card">
                    <h2 class="text-2xl font-bold text-71a6b7 mb-4 text-center">AI T∆∞ V·∫•n: Nh·∫≠n l·ªùi khuy√™n Ch·∫•t l∆∞·ª£ng Kh√¥ng kh√≠</h2>
                    <p class="text-lg text-gray-700 mb-6 max-w-4xl mx-auto text-center">S·ª≠ d·ª•ng m√¥ h√¨nh AI c·ªßa Google ƒë·ªÉ nh·∫≠n th√¥ng tin c·∫≠p nh·∫≠t v√† l·ªùi khuy√™n v·ªÅ √¥ nhi·ªÖm kh√¥ng kh√≠ d·ª±a tr√™n d·ªØ li·ªáu th·ªùi gian th·ª±c.</p>

                    <div class="max-w-xl mx-auto">
                        <div class="mb-4">
                            <label for="cityInput" class="block text-sm font-medium text-gray-700 mb-2">Nh·∫≠p th√†nh ph·ªë ho·∫∑c c√¢u h·ªèi v·ªÅ √¥ nhi·ªÖm:</label>
                            <input type="text" id="cityInput" placeholder="V√≠ d·ª•: 'Ch·∫•t l∆∞·ª£ng kh√¥ng kh√≠ H√† N·ªôi h√¥m nay' ho·∫∑c 'L√†m g√¨ khi PM‚ÇÇ.‚ÇÖ cao?'" class="w-full p-3 border border-bfe0e9 rounded-lg focus:ring-71a6b7 focus:border-71a6b7 transition duration-150">
                        </div>
                        <button id="getAdviceButton" class="llm-button w-full bg-71a6b7 text-white p-3 rounded-lg font-bold shadow-md hover:bg-5a8a9a flex items-center justify-center space-x-2">
                            <span id="buttonText">Nh·∫≠n T∆∞ V·∫•n</span>
                            <div id="spinner" class="spinner hidden"></div>
                        </button>

                        <div id="adviceOutput" class="advice-output mt-6 hidden">
                            <h3 class="font-bold text-xl text-71a6b7 mb-2">L·ªùi Khuy√™n AI</h3>
                            <div id="adviceText" class="text-gray-800 whitespace-pre-wrap"></div>
                            <div id="adviceSources" class="text-xs text-gray-500 mt-4 border-t pt-2"></div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- JavaScript cho t∆∞∆°ng t√°c v√† bi·ªÉu ƒë·ªì -->
    <script>
        // H√†m chuy·ªÉn ƒë·ªïi gi·ªØa c√°c tab
        function switchPage(pageId) {
            // Cu·ªôn l√™n ƒë·∫ßu trang
            window.scrollTo(0, 0);

            // 1. ·∫®n t·∫•t c·∫£ c√°c ph·∫ßn n·ªôi dung
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // 2. Hi·ªán ph·∫ßn n·ªôi dung ƒë∆∞·ª£c ch·ªçn
            const targetSection = document.getElementById(`page-${pageId}`);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // 3. C·∫≠p nh·∫≠t tr·∫°ng th√°i 'active' cho n√∫t ƒëi·ªÅu h∆∞·ªõng
            document.querySelectorAll('.nav-button').forEach(button => {
                button.classList.remove('active');
            });
            const activeButton = document.querySelector(`.nav-button[data-page="${pageId}"]`);
            if (activeButton) {
                activeButton.classList.add('active');
            }
        }

        // Thi·∫øt l·∫≠p s·ª± ki·ªán l·∫Øng nghe khi trang t·∫£i xong
        window.onload = function () {
            // L·∫Øng nghe s·ª± ki·ªán click tr√™n thanh ƒëi·ªÅu h∆∞·ªõng
            document.getElementById('mainNav').addEventListener('click', function(event) {
                if (event.target.classList.contains('nav-button')) {
                    const pageId = event.target.dataset.page;
                    if (pageId) {
                        switchPage(pageId);
                    }
                }
            });

            // Kh·ªüi t·∫°o bi·ªÉu ƒë·ªì khi trang t·∫£i
            if (document.getElementById('sourcesChart')) {
                initializeSourcesChart();
            }
            if (document.getElementById('citiesChart')) {
                initializeCitiesChart();
            }

            // K√≠ch ho·∫°t logic ban ƒë·∫ßu: 'project10a4' ƒë√£ ƒë∆∞·ª£c ƒë·∫∑t l√† 'active' trong HTML
            // Kh√¥ng c·∫ßn g·ªçi switchPage v√¨ class 'active' ƒë√£ ƒë∆∞·ª£c thi·∫øt l·∫≠p.
        };

        // D·ªØ li·ªáu v√† logic cho bi·ªÉu ƒë·ªì Ngu·ªìn G·ªëc (Pie/Doughnut Chart)
        function initializeSourcesChart() {
            const ctx = document.getElementById('sourcesChart').getContext('2d');
            const data = {
                labels: ['Giao th√¥ng', 'S·∫£n xu·∫•t C√¥ng nghi·ªáp', 'N√¥ng nghi·ªáp', 'ƒê·ªët nhi√™n li·ªáu Sinh kh·ªëi'],
                datasets: [{
                    label: 'T·ª∑ tr·ªçng ngu·ªìn √¥ nhi·ªÖm',
                    data: [35, 30, 20, 15], // S·ªë li·ªáu minh h·ªça
                    backgroundColor: [
                        '#71a6b7', // Giao th√¥ng
                        '#5a8a9a', // C√¥ng nghi·ªáp
                        '#bfe0e9', // N√¥ng nghi·ªáp
                        '#eaf4f7'  // Sinh kh·ªëi
                    ],
                    hoverOffset: 10
                }]
            };

            new Chart(ctx, {
                type: 'doughnut',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                font: {
                                    family: 'Inter'
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Ngu·ªìn √î nhi·ªÖm Kh√¥ng kh√≠ To√†n c·∫ßu (∆Ø·ªõc t√≠nh)',
                            font: {
                                size: 16,
                                family: 'Inter'
                            }
                        }
                    }
                }
            });
        }

        // D·ªØ li·ªáu v√† logic cho bi·ªÉu ƒë·ªì So s√°nh PM2.5 (Bar Chart)
        function initializeCitiesChart() {
            const ctx = document.getElementById('citiesChart').getContext('2d');
            const data = {
                labels: ['H√† N·ªôi', 'TP.HCM', 'Jakarta', 'Delhi', 'London'],
                datasets: [{
                    label: 'PM‚ÇÇ.‚ÇÖ trung b√¨nh nƒÉm (¬µg/m¬≥)',
                    data: [35, 25, 40, 90, 12], // S·ªë li·ªáu minh h·ªça
                    backgroundColor: [
                        '#71a6b7',
                        '#5a8a9a',
                        '#bfe0e9',
                        '#eaf4f7',
                        '#42b883'
                    ],
                    borderColor: '#333',
                    borderWidth: 1
                }]
            };

            new Chart(ctx, {
                type: 'bar',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y', // Bi·ªÉu ƒë·ªì c·ªôt ngang
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'So s√°nh N·ªìng ƒë·ªô PM‚ÇÇ.‚ÇÖ Trung b√¨nh t·∫°i c√°c Th√†nh ph·ªë (¬µg/m¬≥)',
                            font: {
                                size: 16,
                                family: 'Inter'
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'N·ªìng ƒë·ªô PM‚ÇÇ.‚ÇÖ (¬µg/m¬≥)',
                                font: {
                                    family: 'Inter'
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // LOGIC CHO AI T∆Ø V·∫§N (S·ª≠ d·ª•ng API Gemini)
        document.addEventListener('DOMContentLoaded', () => {
            const button = document.getElementById('getAdviceButton');
            const input = document.getElementById('cityInput');
            const outputDiv = document.getElementById('adviceOutput');
            const outputText = document.getElementById('adviceText');
            const outputSources = document.getElementById('adviceSources');
            const spinner = document.getElementById('spinner');
            const buttonText = document.getElementById('buttonText');

            // --- C·∫•u h√¨nh API Gemini ---
            const apiKey = ""; // API Key s·∫Ω ƒë∆∞·ª£c Canvas cung c·∫•p
            // THAY ƒê·ªîI: S·ª≠ d·ª•ng kh√≥a API m·ªõi do ng∆∞·ªùi d√πng cung c·∫•p
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=AIzaSyAKRV9z2kI9KN03tB4Iiplo9XIdFegTTbM`;
            
            const systemPrompt = "B·∫°n l√† m·ªôt AI chatbot c·ªë v·∫•n m√¥i tr∆∞·ªùng chuy√™n nghi·ªáp c·ªßa l·ªõp 10A4, t·∫≠p trung v√†o √¥ nhi·ªÖm kh√¥ng kh√≠ v√† s·ª©c kh·ªèe c·ªông ƒë·ªìng. H√£y tr·∫£ l·ªùi c√¢u h·ªèi c·ªßa ng∆∞·ªùi d√πng b·∫±ng ti·∫øng Vi·ªát, cung c·∫•p l·ªùi khuy√™n ch√≠nh x√°c, d·ªÖ hi·ªÉu v√† d·ª±a tr√™n th√¥ng tin c·∫≠p nh·∫≠t (n·∫øu c√≥). Tr·∫£ l·ªùi m·ªôt c√°ch ng·∫Øn g·ªçn, s√∫c t√≠ch v√† th√¢n thi·ªán. Tuy·ªát ƒë·ªëi kh√¥ng s·ª≠ d·ª•ng LATEX v√† Markdown. Ch·ªâ s·ª≠ d·ª•ng Unicode.";
            
            const MAX_RETRIES = 3;
            const INITIAL_DELAY_MS = 1000; // 1 second

            // H√†m th·ª±c hi·ªán fetch v·ªõi exponential backoff
            async function fetchWithRetry(payload) {
                for (let i = 0; i < MAX_RETRIES; i++) {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (response.ok) {
                            return response;
                        }

                        // N·∫øu l·ªói 429 (Too Many Requests) ho·∫∑c l·ªói m√°y ch·ªß, th·ª≠ l·∫°i
                        if (response.status === 429 || response.status >= 500) {
                            const delay = INITIAL_DELAY_MS * (2 ** i) + Math.random() * 1000;
                            console.warn(`Request failed with status ${response.status}. Retrying in ${delay.toFixed(0)}ms...`);
                            await new Promise(resolve => setTimeout(resolve, delay));
                            continue; // B·∫Øt ƒë·∫ßu v√≤ng l·∫∑p ti·∫øp theo (th·ª≠ l·∫°i)
                        } else {
                            // C√°c l·ªói kh√°c (v√≠ d·ª•: 400, 404), tho√°t kh·ªèi v√≤ng l·∫∑p v√† n√©m l·ªói
                            throw new Error(`API returned status ${response.status}: ${await response.text()}`);
                        }
                    } catch (error) {
                        if (i === MAX_RETRIES - 1) {
                            throw new Error(`API call failed after ${MAX_RETRIES} attempts: ${error.message}`);
                        }
                        // N·∫øu l√† l·ªói m·∫°ng, c≈©ng ch·ªù v√† th·ª≠ l·∫°i
                        const delay = INITIAL_DELAY_MS * (2 ** i) + Math.random() * 1000;
                        console.warn(`Network error: ${error.message}. Retrying in ${delay.toFixed(0)}ms...`);
                        await new Promise(resolve => setTimeout(resolve, delay));
                    }
                }
            }


            // H√†m x·ª≠ l√Ω y√™u c·∫ßu t∆∞ v·∫•n AI th·ª±c
            const handleAdviceRequest = async () => {
                const userQuery = input.value.trim();
                if (!userQuery) {
                    outputText.innerHTML = "Vui l√≤ng nh·∫≠p c√¢u h·ªèi ho·∫∑c t√™n th√†nh ph·ªë ƒë·ªÉ nh·∫≠n l·ªùi khuy√™n.";
                    outputDiv.classList.remove('hidden');
                    return;
                }

                // Hi·ªÉn th·ªã tr·∫°ng th√°i t·∫£i
                button.disabled = true;
                spinner.classList.remove('hidden');
                buttonText.textContent = 'ƒêang t√¨m ki·∫øm...';
                outputDiv.classList.remove('hidden');
                outputText.textContent = 'ƒêang ch·ªù ph·∫£n h·ªìi t·ª´ AI...';
                outputSources.innerHTML = '';
                
                try {
                    // C·∫•u tr√∫c payload cho API Gemini v·ªõi Google Search Grounding
                    const payload = {
                        contents: [{ parts: [{ text: userQuery }] }],
                        tools: [{ "google_search": {} }], // B·∫≠t t√¨m ki·∫øm Google
                        systemInstruction: {
                            parts: [{ text: systemPrompt }]
                        },
                    };
                    
                    const response = await fetchWithRetry(payload);
                    const result = await response.json();
                    
                    const candidate = result.candidates?.[0];
                    
                    if (candidate && candidate.content?.parts?.[0]?.text) {
                        const text = candidate.content.parts[0].text;
                        let sources = [];
                        const groundingMetadata = candidate.groundingMetadata;

                        if (groundingMetadata && groundingMetadata.groundingAttributions) {
                            sources = groundingMetadata.groundingAttributions
                                .map(attribution => ({
                                    uri: attribution.web?.uri,
                                    title: attribution.web?.title,
                                }))
                                .filter(source => source.uri && source.title); // Ch·ªâ l·∫•y ngu·ªìn h·ª£p l·ªá
                        }

                        // Hi·ªÉn th·ªã k·∫øt qu·∫£
                        outputText.innerHTML = text.replace(/\n/g, '<br>');
                        
                        if (sources.length > 0) {
                            const sourceHtml = '<strong>Ngu·ªìn tham kh·∫£o:</strong><ul class="list-disc ml-5 mt-2 space-y-1">' + 
                                sources.map(s => `<li><a href="${s.uri}" target="_blank" class="text-blue-600 hover:text-blue-800">${s.title}</a></li>`).join('') +
                                '</ul>';
                            outputSources.innerHTML = sourceHtml;
                        } else {
                            outputSources.innerHTML = 'Ngu·ªìn: Ph·∫£n h·ªìi d·ª±a tr√™n ki·∫øn th·ª©c chung c·ªßa m√¥ h√¨nh.';
                        }

                    } else {
                        // X·ª≠ l√Ω tr∆∞·ªùng h·ª£p kh√¥ng c√≥ n·ªôi dung ƒë∆∞·ª£c t·∫°o
                        console.error('L·ªói API: Kh√¥ng t√¨m th·∫•y n·ªôi dung ph·∫£n h·ªìi h·ª£p l·ªá.', result);
                        outputText.textContent = "Xin l·ªói, AI kh√¥ng th·ªÉ t·∫°o ra l·ªùi khuy√™n cho y√™u c·∫ßu n√†y. Vui l√≤ng th·ª≠ l·∫°i v·ªõi m·ªôt c√¢u h·ªèi kh√°c.";
                        outputSources.textContent = '';
                    }

                } catch (error) {
                    console.error("L·ªói g·ªçi API:", error);
                    outputText.textContent = `Xin l·ªói, ƒë√£ x·∫£y ra l·ªói trong qu√° tr√¨nh k·∫øt n·ªëi: ${error.message}.`;
                    outputSources.textContent = '';
                } finally {
                    // K·∫øt th√∫c tr·∫°ng th√°i t·∫£i
                    button.disabled = false;
                    spinner.classList.add('hidden');
                    buttonText.textContent = 'Nh·∫≠n T∆∞ V·∫•n';
                }
            };

            if (button) {
                button.addEventListener('click', handleAdviceRequest);
            }
        });

    </script>
</body>
</html>
